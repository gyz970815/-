!function(){window.PTP_PARAMS=window.PTP_PARAMS||{};var a="cube-acm-node",t="show-log-item",n="anchor",e="module_row",r=function(a,t){t=t||location.href,t=t.split("#")[0];var n=new RegExp("(^|\\?|&)"+a+"=([^&]*)(\\s|&|$)","i");return n.test(t)?RegExp.$2.replace(/\+/g," "):""};$.extend(window.PTP_PARAMS,{urlExtendFn:function(s){var l,i=$(s),o=i.parents(),c=i.attr("data-ext-acm")||"",h=i.attr("href")||"",f=h&&h.indexOf("acm=")!==-1,d=i.hasClass(a)||i.hasClass(n)||i.hasClass(t)?i:null,m=0,u=0;$(o).each(function(n,r){$(r).hasClass(a)&&(d=$(r)),$(r).hasClass(t)&&(d=$(r)),$(r).hasClass(e)&&(l=$(r))});var g=null;l&&l.length&&(g=$(l).find("."+a+",."+n+",."+t),u=g&&g.length),g&&g.length&&d&&d.length&&g.each(function(a,t){$(t)[0]===d[0]&&(m=a)});var x=l&&l.attr("data-acm")||"";if(x){if(f&&!c){if(h&&h.indexOf("mf_")!==-1)return;c=r("acm",h)}x=x.split(".");var w="";return c.indexOf("mf_")===-1&&(w=c+(c?x[6]?"-"+x[6]:"":x.join("."))),w&&d&&d.length&&(w+="-idx_"+m),w&&g&&g.length&&(w+="-mfs_"+u),!d&&c&&i&&i.removeAttr&&i.removeAttr("data-ext-acm"),{acm:w?w:c}}}})}();!function(e){"use strict";function t(){this.arr="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",this.arrLen=this.arr.length}function n(){var e=s.getPtpInfoAndExtra(),t=d.getValue(g.pEventId);l.logData("p",t,e)}function r(){if(o.info.isNative){var e=s.getPtpCnt();l.logAppPevent(e)}else v?n():d.listenTo("LoggerReady",function(){n()})}if(!e.logger){var o=e.logger={};o.version="0.1.17",o._xcore=!1;var i=navigator.userAgent.toLowerCase().indexOf("xcore")>-1;i&&window.loader&&window.loader.script&&(o._xcore=!0),"undefined"==typeof console&&(window.console={log:function(){}});var a="**logger.js---打点出错:";!function(){function e(){if(!r){r=!0;for(var e=0;e<n.length;e++)n[e].fn.call(window,n[e].ctx);n=[]}}function t(){"complete"===document.readyState&&e()}var n=[],r=!1,i=!1;o._xcore&&(r=!0),o.ready=function(o,a){return r?void setTimeout(function(){o(a)},1):(n.push({fn:o,ctx:a}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(e,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",e)),i=!0)))}}(),function(){var e=window.jQuery||window.Zepto,t=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n+1;return-1},n={getA:function(e){var t=e;if("A"==t.tagName)return e;for(;t.parentNode;)if(t=t.parentNode,"A"==t.tagName)return t},getParentByClass:function(t,n){if(t){if(e)return $(t).parents("."+n);for(var r,o=t;o.parentNode;)if(o=o.parentNode,r=o.className&&o.className.indexOf(n)!=-1)return o}},getParents:function(t,n){if(t){if(n=n||"",e)return n="["+n+"]",$(t).parents(n)[0];for(var r,o=t;o.parentNode;)if(o=o.parentNode,r=o.getAttribute&&o.getAttribute(n))return o}},getIndex:function(n,r,o){if(!n||!r||!o)return 0;if(e)return $("["+n+'="'+r+'"]').index($(o))+1;if(document.querySelectorAll){var i=document.querySelectorAll("["+n+'="'+r+'"]');return t(i,o)}return 1},getElemIndex:function(n,r,o){if(!n||!r||!o)return 0;if(e)return $(n).find(r).index($(o))+1;if(n.querySelectorAll){var i=n.querySelectorAll(r);return t(i,o)}return 1},is:function(e,t){return!(!e||!t)&&(e.length&&(e=e[0]),e.nodeName.toLowerCase()===t.toLowerCase()||void 0)}};o.jq=n}();var u=1001,c={},d={getIEVersion:function(){var e,t=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"==navigator.appName?(e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!==e.exec(n)&&(t=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==e.exec(n)&&(t=parseFloat(RegExp.$1))),t},stringify:function(e){if("undefined"!=typeof JSON)return JSON.stringify(e);var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,r,o=[],i=e&&e.constructor==Array;for(n in e)r=e[n],t=typeof r,e.hasOwnProperty(n)&&("string"==t?r='"'+r+'"':"object"==t&&null!==r&&(r=d.stringify(r)),o.push((i?"":'"'+n+'":')+String(r)));return(i?"[":"{")+String(o)+(i?"]":"}")},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},getCookieInArray:function(e){for(var t=0,n=e.length;t<n;t++){var r=d.getCookie(e[t]);if(r)return r}return""},getCookieOrFunc:function(e){return"function"==typeof e?d.getValue(e):d.getCookie(e)},getCookie:function(e){if(d.isArray(e))return d.getCookieInArray(e);var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""},getQuery:function(e,t){void 0===t&&(t=location.search),t=t.split("#")[0];var n="(^|&|\\?)"+e+"=([^&]*)(&|$)",r=new RegExp(n,"i"),o=t.substr(1).match(r);return null!==o?decodeURIComponent(o[2]):""},setQuery:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n},getTime:function(){return parseInt((new Date).getTime()/1e3)},registerEvent:function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},extend:function(){for(var e=arguments,t=arguments[0],n=1;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t},getValue:function(e){if(e){if("function"==typeof e)try{var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)}catch(n){return console.log(a+n),""}return e}},loadScript:function(e,t){if(window["callback_"+u]=function(e){t&&t(e)},e+="?callback=callback_"+u,u+=1,o._xcore)window.loader.script(e);else{var n=document.createElement("script");n.src=e;var r=document.getElementsByTagName("head")[0];r&&r.appendChild(n)}},listenTo:function(e,t){c[e]||(c[e]=[]),c[e].push(t)},fire:function(e){var t=c[e];if(t&&t.length){for(var n=0,r=t.length;n<r;n++)t[n].call();c[e]=[]}},hasKey:function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}};o.util=d;var f="https:"===location.protocol?"https:":"http:",p="mogujie";location.host.indexOf("meilishuo")!=-1&&(p="meilishuo"),o.config={LogUrl:f+"//log.juangua.com/log.php",LogMoGuJsUrl:f+"//log.juangua.com/mogu.js",CookieUrl:f+"//portal."+p+".com/api/util/getUuid",shouldRequestCookie:function(){if(location.protocol.indexOf("file:")!=-1)return!1;var e=o.util.getCookieOrFunc(o.config.uuid);return!e},uuid:["__mgjuuid","__xduuid"],uid:"__ud_",sfrom:"from_site",cpsinfo:"__cpsinfo",ptp_cnt_a:"",ptp_cnt_b:"",ptp_cnt_c_d:"",platform:function(){var e=navigator.userAgent.toLowerCase();if(/qq\/([\d\.]+)/.test(e))return 48},pEventId:"1001",isMobileRe:/iphone|android|ipad/i,ptpRe:/[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+/i,hrefRe:/http[s]?:\/\/\w+\.(mogujie|xiaodian|uniny)\.com([\/]|\/.*|)$/,mgjRe:/mgj:\/\//,mtRe:/\?.*[&]?mt=([^\.]+)\.([^\.]+)\.([^\.&#]+)/,chasing:["f","f2","mlf"],urlExtend:["acm"],urlExtendFn:function(e){},extra:{},isNativeRe:/mogujie(?!nonative)/i,nativeLog:{}},t.prototype={rand:function(e){var t,n="";for(t=0;e>t;t++)n+=this.arr.charAt(Math.random()*this.arrLen);return n},pageHash:function(e){var t=5381,n=e.length-1;if("string"==typeof e)for(;n>-1;n--)t+=(t<<5)+e.charCodeAt(n);else for(;n>-1;n--)t+=(t<<5)+e[n];var r=2147483647&t,o="";do o+=this.arr.charAt(61&r);while(r>>=6);return o}},function(){var e=o.config,t=navigator.userAgent.toLocaleLowerCase();o.info={isApp:e.isNativeRe.test(t),isNative:e.isNativeRe.test(t),isMobile:e.isMobileRe.test(t),isIos:t.indexOf("iphone")>-1,isAndroid:t.indexOf("android")>-1,isXd:location.href.indexOf(".xiaodian.")>-1}}(),function(){function e(){var e="1";return g.isMobile&&(e="m1"),g.isIos&&g.isNative?e="am0":g.isAndroid&&g.isNative&&(e="am1"),e}function n(){var e=d.getValue(s.ptp_cnt_b);if(e)return e;var t="",n=location.href.split("?")[0];return t=v.pageHash(n)}function r(){var e=d.getCookieOrFunc(s.cpsinfo);return e?e=e.replace("-",","):""}function i(){var e=d.getValue(s.platform);return e?e:g.isMobile?32:31}function a(e){if(e){var t=d.getValue(s.urlExtendFn,e);return d.hasKey(t)?t:void 0}}function u(e){if(e){e.length&&(e=e[0]);var t=d.getValue(s.ptp_cnt_c_d,e);if(t)return t;var n=e.getAttribute("data-ptp-customc");if(n)return{c:n,d:l.getIndex("data-ptp-customc",n,e)};if(e=l.getParents(e,"data-ptp-customc"))return n=e.getAttribute("data-ptp-customc"),n?{c:n,d:l.getIndex("data-ptp-customc",n,e)}:void 0}}function c(){return window.PTP_PARAMS&&d.extend(s,PTP_PARAMS),{time:d.getTime(),sfrom:d.getCookieOrFunc(s.sfrom),uuid:d.getCookieOrFunc(s.uuid),uid:d.getCookieOrFunc(s.uid),cpsinfo:r(),refer:location.href,rerefer:document.referrer,ptp_url:d.getQuery("ptp",location.search),ptp_ref:d.getQuery("ptp",document.referrer),_notNative:!g.isNative}}function f(){h.a=e(),h.b=n(),h.c=0,h.d=0}var p,s=o.config,g=o.info,l=o.jq,v=new t,m=c(),h={a:e(),b:n(),c:0,d:0,e:s.ptp_cnt_e?s.ptp_cnt_e:v.rand(5)};o.ptp=p={getPtpByType:function(e,t){var n=i(),r=[m.time,0,"p/e",n,o.version,"1001",m.uuid,m.uid,m.refer,m.rerefer];return"p"==e?(t=t||"1001",r[2]="p",r[5]=t,r):"e"==e?(t=t||"50001",r[2]="e",r[5]=t,r):void 0},getPtpCnt:function(e,t){return e||(e=h.c),t||(t=h.d),[h.a,h.b,e,t,h.e].join(".")},getPtpInfo:function(){var e={};return d.extend(e,m,{ptp_cnt:p.getPtpCnt()})},getPtpInfoAndExtra:function(){var e=p.getPtpInfo(),t={};if(s.extra)for(var n in s.extra)s.extra.hasOwnProperty(n)&&(t[n]=d.getValue(s.extra[n]));return d.extend(e,t)},createPtpCnt:function(e){var t=u(e),n=0,r=0;if(t)return p.getPtpCnt(t.c,t.d);var o=l.getParents(e,"data-ptp"),i=l.getParentByClass(e,"data-ptp-item");return o&&(n=o.getAttribute("data-ptp"),r=i?l.getElemIndex(o,".data-ptp-item",i):l.getElemIndex(o,"a",e)),r||(r=0),p.getPtpCnt(n,r)},makeUrl:function(e,t,n){var r=e.match(/(#.+)$/);return e=e.replace(/(#.+)$/,""),e=d.setQuery(e,"ptp",t),e=p.getChasingParams(e),e=p.getExtendParams(n,e),r&&(e+=r[1]),e},getChasingParams:function(e){void 0===e&&(e="");var t=e;if(!s.chasing)return t;s.chasing.length||(s.chasing=[s.chasing]);for(var n,r,o=0,i=s.chasing.length;o<i;o++)n=s.chasing[o],r=d.getQuery(n),r&&(t=d.setQuery(t,n,r));for(var a=location.search.split("#")[0],u=/[\?&](_f_[^=]+)=([^&]+)/g,c=u.exec(a);c&&3==c.length;)t=d.setQuery(t,c[1],c[2]),c=u.exec(a);return t},getExtendParams:function(e,t){var n=t;if(!e||!l.is(e,"a"))return n;var r=a(e);if(r)for(var o in r)r.hasOwnProperty(o)&&(n=d.setQuery(n,o,r[o]));else{e.length&&(e=e[0]);for(var i=s.urlExtend||[],u=0,c=i.length;u<c;u++){var f=i[u],p=e.getAttribute("data-ext-"+f);p&&(n=d.setQuery(n,f,p))}}return n},refreshPtp:function(){m=c(),f()},refreshE:function(){h&&(h.e=v.rand(5))},refreshCookie:function(){m&&(m.sfrom=d.getCookieOrFunc(s.sfrom),m.uuid=d.getCookieOrFunc(s.uuid),m.uid=d.getCookieOrFunc(s.uid),m.cpsinfo=r())}}}(),function(){var e=o.info,t=o.ptp,n=o.config,r=0,i=function(e,t){t=t||{};var n=[];for(var r in t){var o=t[r];o||(o=""),o=encodeURIComponent(o),n.push(r+"="+o)}n=n.join("&"),e=e.indexOf("?")>-1?e+"&"+n:e+"?"+n;var i=new Image;i.src=e},u=function(e,t){t=t||{};var n,o=r++;try{n=document.createElement('<iframe name="'+o+'">')}catch(i){n=document.createElement("iframe"),n.setAttribute("name",o)}try{n.style.display="none",document.body.appendChild(n),n.contentWindow.name=o;var u=document.createElement("form");u.setAttribute("method","POST"),u.setAttribute("action",e),u.setAttribute("target",o);for(var c in t)if(t.hasOwnProperty(c)){var f=document.createElement("input");f.setAttribute("type","hidden"),f.setAttribute("name",c),f.setAttribute("value",t[c]),u.appendChild(f)}document.body.appendChild(u),u.submit(),d.registerEvent(n,"load",function(){try{document.body.removeChild(u),document.body.removeChild(n)}catch(e){}})}catch(i){console.log(a+i)}},c={sendLog:function(e,t,n){var r=d.getIEVersion(),o=r!=-1&&r<=8;o&&!n?u(e,t):i(e,t)},sendAppLog:function(e,t){return e+="",n.nativeLog&&n.nativeLog.logE?n.nativeLog.logE(e,t):void(window.hdp&&window.hdp["do"]?hdp["do"]("mgj.tracker.sendEvent",e,t):document.addEventListener("deviceready",function(){window.mgj&&mgj.tracker&&mgj.tracker.sendEvent&&mgj.tracker.sendEvent(e,t)},!1))},logAppPevent:function(e){return n.nativeLog&&n.nativeLog.logP?n.nativeLog.logP(e):void(window.hdp&&window.hdp["do"]?hdp["do"]("mgj.pevent",e).then(function(){},function(e){console.log("pevent:"+e)}):document.addEventListener("deviceready",function(){window.mgj&&mgj.pevent&&mgj.pevent(function(){},null,e)},!1))},logData:function(r,o,i){var a=t.getPtpByType(r,o);a.push(d.stringify(i)),e.isNative?c.sendAppLog(o,i):c.sendLog(n.LogUrl,{v:1,data:a.join("\t")})}};o.send=c}(),function(){function e(e){var t=e.href;if(!(t.indexOf("mogujie.com/mtalk/")>-1)&&(r.hrefRe.test(t)||r.mgjRe.test(t))){var n=e.getAttribute("data-ptp-cache-id");t=e.getAttribute("href"),n&&r.ptpRe.test(n)||(n=i.createPtpCnt(e),e.setAttribute("data-ptp-cache-id",n)),e.href=i.makeUrl(t,n,e)}}function t(e){if(e.getAttribute){var t=e.getAttribute("href");if(null==t||0===t.indexOf("#"))return!1}return!0}function n(n){var r=n||window.event,o=r.target||r.srcElement,i=a.getA(o),u="AREA"===o.nodeName?o:null;u&&(i=u),i&&(i.href&&i.href.indexOf("javascript:")>-1||t(i)&&e(i))}var r=o.config,i=o.ptp,a=o.jq;if(!o._xcore){var u="tap"in document.createElement("div")?"tap":"mousedown";d.registerEvent(document,u,n),d.registerEvent(document,"touchstart",n)}}();var s=o.ptp,g=o.config,l=o.send,v=!g.shouldRequestCookie();v||d.loadScript(g.CookieUrl,function(){v=!0,o.ptp.refreshCookie(),d.fire("LoggerReady")}),o.ready(function(){o.ptp.refreshPtp(),r()}),o.refreshPevent=function(){o.ready(function(){o.ptp.refreshPtp(),o.ptp.refreshE(),r()})},o.log=function(e,t){void 0!==e&&(t=t||{},o.ready(function(){var n=s.getPtpInfoAndExtra();v?o.send.logData("e",e,d.extend({},n,t)):d.listenTo("LoggerReady",function(){var n=s.getPtpInfoAndExtra();o.send.logData("e",e,d.extend({},n,t))}),window.MtaH5&&MtaH5.clickStat&&MtaH5.clickStat(e,t)}))},o.generatePtpParams=function(e,t){if(void 0!==e){var n="";return n=t?s.createPtpCnt(t):s.getPtpCnt(),s.makeUrl(e,n,t)}},"undefined"!=typeof module&&"object"==typeof exports?module.exports=o:"function"==typeof define&&(define.amd||define.cmd)&&define("logger",function(){return o})}}(window);var trace=function(){"use strict";function extend(){var arguments$1=arguments;var target=arguments[0];var argsLen=arguments.length;for(var i=1;i<argsLen;i++){var source=arguments$1[i];for(var p in source){if(source.hasOwnProperty(p)){target[p]=source[p]}}}return target}function getValue(fn){if(typeof fn!=="function"){return fn}return fn()}var config={customUrl:function customUrl(){},getExtraTime:function getExtraTime(){return 0},blankTime:"__trace__headendt"};function getFormatUrl(url){url=url||location.href;var customUrl=getValue(config.customUrl);if(customUrl){customUrl=customUrl.split("https://").join("").split("http://").join("");return customUrl}if(typeof url==="string"){url=url.split("?")[0].split("#")[0].split("https://").join("").split("http://").join("");if(url.charAt(url.length-1)==="/"){url=url.substr(0,url.length-1)}}return url}var CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m;var SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}function _indexOf(array,target){if(typeof Array.prototype.indexOf==="function"){return array.indexOf(target)}else{for(var i=0;i<array.length;i++){if(array[i]===target){return i}}return-1}}var ErrorStackParser={parse:function ErrorStackParser$$parse(error){if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{return[]}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var regExp=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/;var parts=regExp.exec(urlLike.replace(/[\(\)]/g,""));return[parts[1],parts[2]||undefined,parts[3]||undefined]},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=_indexOf(["eval","<anonymous>"],locationParts[0])>-1?undefined:locationParts[0];return{functionName:functionName,filename:fileName,row:locationParts[1],column:locationParts[2],line:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,filename:locationParts[0],row:locationParts[1],column:locationParts[2],line:line}}},this)}};var parser={ErrorStackParser:ErrorStackParser,parse:function parse(error){var r=ErrorStackParser.parse(error);if(!r||r.length<=0){return error.message}var info=r[0];var strs=[];if(info.filename){var filename=info.filename;if(filename.lastIndexOf("/")>-1){filename=info.filename.slice(info.filename.lastIndexOf("/"))}strs.push(filename)}if(info.functionName){strs.push("@"+info.functionName)}if(info.row){strs.push(" "+info.row)}return error.message+" - "+strs.join("")},normalize:function normalize(error){var r=ErrorStackParser.parse(error);return r}};function getPlatform(){var ua=navigator.userAgent.toLowerCase();return/iphone|android|ipad/i.test(ua)?"h5":"pc"}function getBrowser(){var nAgt=navigator.userAgent;var unknown="其它";var browser=unknown;var version="";var majorVersion="";var verOffset;var ix;if((verOffset=nAgt.indexOf("Opera"))!==-1){browser="Opera";version=nAgt.substring(verOffset+6);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((verOffset=nAgt.indexOf("OPR"))!==-1){browser="Opera";version=nAgt.substring(verOffset+4)}else if(nAgt.indexOf("MicroMessenger")!==-1){browser="Wechat"}else if(nAgt.indexOf("QQ")!==-1){browser="QQ"}else if((verOffset=nAgt.indexOf("MSIE"))!==-1){browser="IE";version=nAgt.substring(verOffset+5)}else if((verOffset=nAgt.indexOf("Chrome"))!==-1){browser="Chrome";version=nAgt.substring(verOffset+7)}else if((verOffset=nAgt.indexOf("Firefox"))!==-1){browser="Firefox";version=nAgt.substring(verOffset+8)}else if(nAgt.indexOf("Trident/")!==-1){browser="IE";version=nAgt.substring(nAgt.indexOf("rv:")+3)}else if((verOffset=nAgt.indexOf("Safari"))!==-1||nAgt.indexOf("iPhone")!==-1){browser="Safari";version=nAgt.substring(verOffset+7);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((ix=version.indexOf(";"))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(" "))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(")"))!==-1){version=version.substring(0,ix)}if(version){majorVersion=parseInt(""+version,10);if(isNaN(majorVersion)){version=""+parseFloat(navigator.appVersion);majorVersion=parseInt(navigator.appVersion,10)}}return majorVersion?browser+"_"+majorVersion:browser+"_unknown"}function getOs(){var unknown="其它";var os=unknown;var nAgt=navigator.userAgent;var clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}var osVersion=unknown;if(/Windows/.test(os)){osVersion=/Windows (.*)/.exec(os)[1];os="Windows"}switch(os){case"Mac OS X":osVersion="";break;case"Android":var matched=/Android( |\/)([\.\_\d]+)/.exec(nAgt);if(matched&&matched.length>0){var arr=(matched[2]||"").split(".").slice(0,2);osVersion=arr.join(".")}break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nAgt);if(osVersion&&osVersion.length>0){osVersion=osVersion[1]+"."+osVersion[2]}break}return os===unknown?os:os+osVersion}function getScreen(){var _screen=window.screen;var width;var height;var screenSize="";if(_screen&&_screen.width){width=_screen.width?_screen.width:"";height=_screen.height?_screen.height:"";screenSize+=""+width+"x"+height}return screenSize}function getDevicePixelRatio(){var dpr=(window.devicePixelRatio?window.devicePixelRatio:1)-0;return dpr.toFixed(1)}function getDeviceInfo(){return{platform:getPlatform(),screen:getScreen(),os:getOs(),browser:getBrowser(),devicePixelRatio:getDevicePixelRatio()}}function getPerformanceInfo(){var timing=window.performance&&window.performance.timing;if(!timing){return{}}var blankTime=window[config.blankTime];if(!blankTime){blankTime=timing.domContentLoadedEventStart}var res={dns:timing.domainLookupEnd-timing.domainLookupStart,tcp:timing.connectEnd-timing.connectStart,request:timing.responseStart-timing.requestStart,response:timing.responseEnd-timing.responseStart,domContentLoad:timing.domContentLoadedEventEnd-timing.navigationStart,blankTime:blankTime-timing.navigationStart,readyTime:timing.domInteractive-timing.navigationStart,onloadTime:timing.loadEventEnd-timing.navigationStart,extraTime:getValue(config.getExtraTime)||0};return res}function _log(){var info=getDeviceInfo();var performance=getPerformanceInfo();performance.formatUrl=getFormatUrl();var logger=window.logger;if(logger){logger.log&&logger.log("016000001",extend({},info,performance))}}var queue=[];function isNewError(msg,file,line,col){var flag=true;for(var i=0;i<queue.length;i++){var item=queue[i]||{};if(item.msg===msg&&item.file===file&&item.line===line&&item.col===col){flag=false;break}}return flag}function onErrorHandler(msg,file,line,col,err){if(!isNewError(msg,file,line,col)){return}var stack="";if(err){if(err.hasReported){return}stack=err.stack||""}queue.push({msg:msg,file:file,line:line,col:col});var logger=window.logger;if(!logger||!logger.log){return}if(typeof stack!=="string"){stack=""+stack}var data={type:0,msg:msg,stack:stack,ua:navigator.userAgent,formatUrl:getFormatUrl()};try{JSON.stringify(data);logger.log("016000011",data)}catch(err){}}var regParsePattern=/^\s*('?undefined'?|object) is not (a function|an object)\s*$/i;function shouldParse(msg){if(!msg){return false}if(regParsePattern.test(msg)){return true}if(msg.toLowerCase()==="cannot convert undefined or null to object"){return true}return false}function getErrorInfo(error,useParser){if(!error){return null}var data={};if(typeof error==="object"){data.msg=error.message||"";data.stack=error.stack||"";data.stack=data.stack;if(typeof data.stack!=="string"){data.stack=""+data.stack}}else{data.msg=error}data.ua=navigator.userAgent;data.type=1;if(shouldParse(data.msg)&&typeof error==="object"&&error.stack){try{data.msg=parser.parse(error)}catch(err){}}return data}var Logger={init:function init(){var interval=setInterval(function(){var timing=window.performance&&window.performance.timing;if(timing&&timing.loadEventEnd===0){return}clearInterval(interval);setTimeout(function(){_log()},10)},300);window.onerror=onErrorHandler},sendMsg:function sendMsg(error,extra,useParser){if(extra===void 0)extra=null;if(useParser===void 0)useParser=false;var data=getErrorInfo(error,useParser);var logger=window.logger;if(!data||!logger||!logger.log){return}var extraJSON="";if(extra){try{extraJSON=JSON.stringify(extra);if(extraJSON.length>1024){throw new Error("extra contains too much information")}}catch(e){extraJSON="";console&&console.warn&&console.warn(e)}}extend(data,{formatUrl:getFormatUrl(),extra:extraJSON});try{JSON.stringify(data);logger.log("016000011",data)}catch(err){}}};function isIE(){var myNav=navigator.userAgent.toLowerCase();return myNav.indexOf("msie")!==-1?parseInt(myNav.split("msie")[1],10):false}function _report(err){if(typeof err==="string"){err=new Error(err)}if(err.hasReported){return}err.hasReported=true;Logger.sendMsg(err,null,true)}function _inject(fn){if(typeof fn.apply!=="function"){return fn}return function(){try{return fn.apply(this,arguments)}catch(err){_report(err);console&&console.warn&&console.warn(err);throw err}}}function _transform(fn){if(!fn||typeof fn.apply!=="function"){return fn}return function(){var arguments$1=arguments;var args=[];var arg;for(var i=0,l=arguments.length;i<l;i++){arg=arguments$1[i];if(typeof arg==="function"){arg=_inject(arguments$1[i])}args.push(arg)}return fn.apply(this,args)}}function _mix(target,src){for(var key in src){target[key]=src[key]}}function injectjQuery(){var $=window.$;if(!$||$!==window.jQuery&&$!==window.Zepto){return}var _ready=$.fn.ready;$.fn.ready=_transform(_ready);var _ajax=$.ajax;if(typeof _ajax==="function"&&typeof _ajax.apply==="function"){$.ajax=function(url,options){var target=null;if(typeof options==="undefined"&&typeof url==="object"){target=url}else if(typeof options==="object"){target=options}if(target){if(typeof target.success==="function"){target.success=_inject(target.success)}if(typeof target.complete==="function"){target.complete=_inject(target.complete)}}return _ajax.apply($,arguments)}}var _Deferred=$.Deferred;if(typeof _Deferred==="function"&&typeof _Deferred.apply==="function"){$.Deferred=function(){var deferred=_Deferred.apply(this,arguments);var resolveWith=deferred.resolveWith;deferred.resolveWith=_inject(resolveWith);return deferred}}}function injectRequireJS(){var _require=window.require;var _define=window.define;if(_define&&_define.amd&&_require){window.require=_transform(_require);_mix(window.require,_require);window.define=_transform(_define);_mix(window.define,_define)}}function injectSystem(){var _setTimeout=window.setTimeout;window.setTimeout=function(fn,ms){if(typeof fn==="function"){fn=_inject(fn)}switch(arguments.length){case 0:return _setTimeout();case 1:return _setTimeout(fn);default:return _setTimeout(fn,ms)}};var _setInterval=window.setInterval;window.setInterval=_transform(_setInterval);var _requestAnimationFrame=window.requestAnimationFrame;if(typeof _requestAnimationFrame==="function"){window.requestAnimationFrame=_transform(_requestAnimationFrame)}var Promise=window.Promise;if(typeof Promise!=="undefined"){var _then=Promise.prototype.then;window.Promise.prototype.then=_transform(_then)}if(window.EventTarget&&window.EventTarget.prototype.addEventListener){var addEventListener=window.EventTarget.prototype.addEventListener;window.EventTarget.prototype.addEventListener=function(event,callback,bubble){if(callback&&typeof callback.handleEvent==="function"){callback.handleEvent=_inject(callback.handleEvent);return addEventListener.call(this,event,callback,bubble)}else{if(!callback.___wrapper){callback.___wrapper=_inject(callback)}return addEventListener.call(this,event,callback.___wrapper,bubble)}};var removeEventListener=window.EventTarget.prototype.removeEventListener;window.EventTarget.prototype.removeEventListener=function(event,callback,bubble){if(!callback){return removeEventListener.call(this,event,callback,bubble)}else{return removeEventListener.call(this,event,callback.___wrapper||callback,bubble)}}}}var Inject={init:function init(){if(isIE()&&isIE()<9){return}injectjQuery();injectRequireJS();injectSystem()}};if(window._trace){console&&console.warn&&console.warn("WARNING: you already import trace")}if(typeof window.console==="undefined"){window.console={log:function(){},warn:function(){}}}Logger.init();Inject.init();var trace=window._trace={send:function send(){},sendImmediately:function sendImmediately(){},version:"1.1.7",config:config,sendMsg:Logger.sendMsg};var index={};return index}();!function(){window.$&&window.require&&(window.modJsRequire=function(n,e,t,o){"function"==typeof e&&(t=arguments[1],o=arguments[2],e=null),require(n,function(){var n=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),o=this;e&&$(e).length?$(e).each(function(e,i){t&&t.apply(o,n.concat([i,e]))}):t&&t.apply(this,n)},o)})}(),define("core/core",[],function(){return window.MoGu=window.MoGu||{},window.MoGu}),define("ui/ui",["$","core/core"],function(n,e){return e.ui={getTemplate:function(n,e){try{return M.lib.doT.template(n)(e)}catch(n){return n}},getdoT:function(){return M.lib.doT}},e}),define("util/util",["$","core/core"],function(n,e){return e.util={setCookie:M.fn.setCookie,getCookie:M.fn.getCookie,removeCookie:M.fn.removeCookie},n.extend(e.util),e}),define("fn/fn",["core/core"],function(n){return n.fn={login:function(n){n=n||window.location.href;var e="http://portal.mogujie.com/user/login?redirect_url="+encodeURIComponent(n);window.location.href=window.logger&&window.logger.generatePtpParams(e)||e},idtourl:function(n){if(n)return 1+(2*n+56).toString(36)},urltoid:function(n){return(parseInt(n.substring(1),36)-56)/2}}}),define("fn/time",["fn/fn"],function(){MoGu.fn=$.extend({},MoGu.fn,{getServerTime:function(n){return M.getServerTime(!1).then(function(e){n(e.time)})}})}),define("fn/showlog",["fn/fn"],function(){function n(n){return"none"!=n.css("display")&&"hidden"!=n.css("visibility")&&0!=n.css("opacity")&&n.width()&&(n.height()||n.innerHeight&&n.innerHeight())}function e(e){var t=e.offset().top,o=e.height()||e.innerHeight&&e.innerHeight(),i=e.offset().left,r=e.width(),u=$(window).scrollTop(),l=$(window).scrollLeft(),s=$(window).width(),a=$(window).height(),c=t>=u&&t<u+a,f=t+o>u&&t+o<=u+a,d=t<u&&t+o>u+a,h=i>=l&&i<l+s,g=i+r>l&&i+r<=l+s,w=i<l&&i+r>l+s;return n(e)&&(c||f||d)&&(h||g||w)}function t(){if(p.length||C.length||M.length||y.length||v){var n=function(){C&&C.length?(T("0x00000000",{acms:C,indexs:g,type:5}),g=[],C=[]):M&&M.length?(T("0x00000000",{acms:M,indexs:w,type:5}),w=[],M=[]):y&&y.length?(T("0x00000000",{acms:y,indexs:m,iids:x,type:4}),x=[],m=[],y=[]):v?(T(h||0,v),v=null,h=null):p&&p.length&&(T(h||0,{acms:p,iids:x,indexs:G}),p=[],x=[],G=[],h=null)};n()}o=!0,window.setTimeout(function(){p.length||C.length||M.length||y.length||v?t():o=!1},1e3)}var o=!1,i="rec-show-log",r="module_row",u="cube-acm-node",l="has-log-mod",s="show-log-item",a="log-custom",c="waiting-log",f="data-log-content",d="data-log-iid",h=($("."+i),null),g=[],w=[],m=[],p=[],v=null,C=[],M=[],y=[],x=[],G=[],T=function(n,e){var t=window&&window.logger&&window.logger.log;t&&t(n,e)},b=function(n){var e=n.attr(f),t=e.split(";");$(t).each(function(n,e){var t=e.split("="),o=t[0];o&&(v=v||{},v[o]=v[o]||[],v[o].push(e.replace(o+"=","")))})},_=function(){$("."+r).each(function(n,t){var o=$(t),i=o.attr("data-acm")||"",r=i.split(".");if(i&&e(o)){var c=o.find("."+u+",.anchor,."+s),f=c.length;o.hasClass(l)||(C.push(i+"-mfs_"+f),g.push(n),o.addClass(l)),f&&$(c).each(function(n,t){var o=$(t),u=!o.hasClass(a)&&o.attr("data-log-content")||"",s=o.attr(d)||"";!o.hasClass(l)&&e(o)&&(u&&r[6]?(y.push(u+"-"+r[6]+"-idx_"+n+"-mfs_"+f),m.push(n),s&&x.push(s),o.addClass(l)):(M.push(i+"-idx_"+n+"-mfs_"+f),w.push(n),o.addClass(l)))})}}),$("."+i).each(function(n,t){if(e($(t))||$(t).hasClass(c)){var o=$(t).find("."+a);$(t).removeClass(c),o.length?$(o).each(function(n,o){var i=$(o);if(e(i)||i.hasClass(c)){if(i.removeClass(c),h&&h!==$(t).data("eventid"))return $(t).addClass(c),void i.addClass(c);i.hasClass(a)&&b(i),h=$(t).data("eventid"),i.removeClass(a)}}):$(t).removeClass(i)}}),(p.length||C.length||M.length||y.length||v)&&!o&&t()},k=function(){$(function(){window.setTimeout(function(){$(window).scroll(_),_&&_()},1e3)})};k(),MoGu.fn=$.extend({},MoGu.fn,{showLog:_})}),define("base/MoGu",["core/core","util/util","ui/ui","fn/time","fn/showlog"],function(n){return n}),require(["base/MoGu"],function(n){return n});define("template/pc/www/default/assets/js/nav/module/top-nav",["core/core"],function(){function t(t,e,a){function o(){var e=i.shift();e&&t.apply(e.context,e.arguments),0===i.length&&(clearInterval(n),n=null)}var i=[],n=null;return function(){i.push({context:a||this,arguments:[].slice.call(arguments)}),n||(o(),n=setInterval(o,e))}}function e(t,e,a){return parseInt(t+"",0|e).toString(0|a)}function a(){var t=$(".J_sitenav .wrap"),e=(l.find(".mgj-my-avatar"),l.find(".mgj-my-cart"),['<a rel="nofollow" href="http://www.mogujie.com" class="home fl">蘑菇街首页</a>','<ul class="header_top">',"{{? it.name}}",'<li class="s1 has_icon user_meta">','<a rel="nofollow" href="javascript:;">',"{{=it.name}}","</a>",'<a rel="nofollow" href="http://www.mogujie.com/member" target="_blank">',"{{?it.userLevel}}",'<span class="level level',"{{=it.userLevel - 1}}",'">&nbsp;</span>',"{{?}}","</a>",'<i class="icon_delta"></i>','<ol class="ext_mode" id="menu_personal">','<li class="s2">','<a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/personal">个人设置</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/bind">账号绑定</a>',"</li>",'<li class="s2">','<a rel="nofollow" href="//www.mogujie.com/logout">退出</a>',"</li>","</ol>","</li>",'<li class="s1 has_line message_center">','<a rel="nofollow" href="javascript:;" class="ext_module mogutalk_btn J_msg open_msg micon __trace__" data-from="shopwidget_message" data-trace="global,shopwidget_message,click">','消息<span class="num m_num"></span>',"</a>","</li>",'<li class="s1 has_icon has_line user_fav">','<a rel="nofollow" href="javascript:;">我的收藏</a>','<i class="icon_delta"></i>','<ul class="ext_mode">','<li class="s2">','<a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/goodsfavs">收藏的商品</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/shopfavs">收藏的小店</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://track.mogujie.com">浏览足迹</a>',"</li>","</ul>","</li>","{{??}}",'<li class="s1 show-nologin">','<a rel="nofollow" href="http://portal.mogujie.com/user/register">注册</a>',"</li>",'<li class="s1 show-nologin">','<a rel="nofollow" href="http://portal.mogujie.com/user/login">登录</a>',"</li>","{{?}}",'<li class="s1 myorder has_line">','<a href="http://order.mogujie.com/order/list4buyer" target="_blank" class="text display_u" ref="nofollow">我的订单</a>',"</li>",'<li class="s1 has_line shopping_cart_v2">','<a class="cart_info_wrap" href="http://cart.mogujie.com/cart/mycart?traceid=" target="_blank" ref="nofollow">','<span class="cart_info">购物车</span>',"</a>",'<i class="icon_delta"></i>','<span class="shopping_cart_loading"></span>',"</li>",'<li class="s1 has_line has_icon custom_item">','<a rel="nofollow" href="http://www.mogujie.com/help" ref="nofollow" target="_blank">客户服务</a>','<i class="icon_delta"></i>','<ol class="ext_mode">','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.mogujie.com/help">消费者服务</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://service.xiaodian.com">商家服务</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.mogujie.com/rule/index">规则中心</a></li>',"</ol>","</li>",'<li class="s1 has_line has_icon myxiaodian">','<a href="http://www.xiaodian.com" ref="nofollow" target="_blank" class="text display_u">我的小店</a>','<i class="icon_delta"></i>','<ol class="ext_mode">','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/shopadmin/shopface">管理后台</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://bbs.xiaodian.com">商家社区</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://peixun.xiaodian.com">商家培训</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/joinmarket">市场入驻</a></li>',"</ol>","</li>","</ul>"].join(""));n&&n.fn&&n.fn.getUserData&&n.fn.getUserData(function(a,o){a?(o={},t.html(n.ui.getTemplate(e,o)),$("body").trigger("userdatarecieve",[o]),window.newcinfo&&window.newcinfo.refresh()):(t.html(n.ui.getTemplate(e,o)),$("body").trigger("userdatarecieve",[o]),window.newcinfo&&window.newcinfo.refresh()),$&&$.Deferred&&$.Deferred(r).done(function(t){var e="remote";t.degradation&&(e="local"),c.init(e),d.init(e)}).fail(function(){})})}function o(t){$("#header .header_top"),$(".mgj_rightbar .mgj-my-cart"),$(".mgj_rightbar .mgj-my-avatar");t.uname&&t.uname.length>0&&t.shopFaved&&$(".J-shop-follow").addClass("shop-followed").html("已收藏"),t.jumpUrl&&t.jumpUrl.length>0&&(location.href=t.jumpUrl)}function i(){function t(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null}function e(t,e){var a=new Date;a.setTime(a.getTime()+31536e6),document.cookie=t+"="+escape(e)+";expires="+a.toGMTString()}function a(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}var o=$("#menu_personal"),i=$(".dapei_tip",o),n=$(".dapei_btn",o);n.click(function(){e("dapei_tip_hidden",!0),i.hide(),setTimeout(function(){o.mouseleave(function(){$(this).removeClass("ext_mode_show")})},1e3)}),null!=t("isDaPeiShi")?o.addClass("ext_mode_show"):"true"==$("#isDaPeiShi").val()&&null==a("dapei_tip_hidden")&&o.addClass("ext_mode_show")}var n=window.MoGu||{};n.fn=n.fn||{},n.fn.greyTest=function(t,e){$.ajax({url:"http://www.mogujie.com/trade/abtest/service/getBucket",data:{biz:t},dataType:"jsonp",type:"get",success:function(t){$.isFunction(e)&&e(null,t)},fail:function(t){$.isFunction(e)&&e(t)}})},n.fn.refreshToken=function(t){$.ajax({url:"/csrf/token/get",dataType:"json",type:"get",success:function(e){e.status&&1001==e.status.code&&(window.__token=e.result.token,$.isFunction(t)&&t(null,e))},fail:function(e){$.isFunction(t)&&t(e)}})},n.fn.getUserData=t(function(t){if(n.data=n.data||{},n.data.userData)$.isFunction(t)&&t(null,n.data.userData);else{var e=location.protocol||"http:";$.ajax({url:e+"//portal.mogujie.com/api/profile/baseinfo",dataType:"jsonp",type:"get",success:function(e){if(1001==e.status.code){var a=e.result;n.data.userData=a,$.isFunction(t)&&t(null,a)}else{var a={};n.data.userData=a,$.isFunction(t)&&t(null,a)}},fail:function(e){$.isFunction(t)&&t(e)}})}},600),n.fn.id2url=function(t,a){var o="",i=a||1;if(t=""+t,24==t.length)return t;switch(i){case 1:o=i+e(2*t+56,10,36);break;default:o=!1}return o};var s=$(".header_2015"),l=$(".mgj_rightbar"),r=function(t){var e=location.protocol||"http:",a=23784;return $.ajax({url:e+"//mce.mogucdn.com/jsonp/multiget/3",dataType:"jsonp",type:"get",data:{pids:a},jsonpCallback:"jsonp"+a,success:function(e){"SUCCESS"===e.returnCode&&e.data[a]&&e.data[a].list&&e.data[a].list.length&&"true"==e.data[a].list[0].degradation?t.resolve({degradation:!0}):t.resolve({degradation:!1})},fail:function(){t.resolve({degradation:!0})}}),t.promise()},c={getCartListCount:function(t,e){var a=location.protocol||"http:";if(t&&"local"==t){var o=0;if(window.localStorage){var i=window.localStorage.getItem("cache_cart_list_num");i&&i>0&&(o=i)}$.isFunction(e)&&e(null,{result:{count:o},status:{message:"",isLogin:!0,code:1001,msg:""}})}else $.ajax({url:a+"//cart.mogujie.com/api/cart/getItemCount?marketType=market_mogujie",dataType:"jsonp",type:"get",success:function(t){t&&t.status&&"1001"==t.status.code?(t.result&&t.result.count>0&&window.localStorage&&window.localStorage.setItem("cache_cart_list_num",t.result.count),$.isFunction(e)&&e(null,t)):$.isFunction(e)&&e(null,{})},fail:function(t){$.isFunction(e)&&e(t)}})},renderNavCart:function(t){var e=s.find(".shopping_cart_v2");if(e.length)if(t&&t.result&&t.result.count>0){var a=t.result.count>99?"99+":t.result.count,o='<span class="cart_info">购物车<b class="num">'+a+"</b>件</span>";e.find(".cart_info_wrap").html(o).show()}else e.find(".cart_info_wrap").html('<span class="cart_info">购物车</span>')},renderSideBarCart:function(t){var e=l.find(".mgj-my-cart");e.length&&(t&&t.result&&t.result.count>0?e.find(".num").html(t.result.count>99?"99+":t.result.count).show():e.find(".num").hide())},init:function(t){var e=this;e.getCartListCount(t,function(t,a){e.renderNavCart(a),e.renderSideBarCart(a)})}},d={getCouponCount:function(t,e){var a=location.protocol||"http:";if(t&&"local"==t){var o=0;if(window.localStorage){var i=window.localStorage.getItem("cache_coupon_num");i&&i>0&&(o=i)}$.isFunction(e)&&e(null,{data:{number:o},returnCode:"SUCCESS",success:!0})}else $.ajax({url:a+"//promotion.mogujie.com/jsonp/getUnUsedCouponNumber/1?domain=8",dataType:"jsonp",type:"get",success:function(t){t&&t.success&&"SUCCESS"==t.returnCode&&(t.data&&t.data.number>0&&window.localStorage&&window.localStorage.setItem("cache_coupon_num",t.data.number),$.isFunction(e)&&e(null,t))},fail:function(t){$.isFunction(e)&&e(t)}})},init:function(t){this.getCouponCount(t,function(t,e){var a=l.find(".mgj-my-coupon");if(a.length)if(e&&e.data&&e.data.number>0){var o=e.data.number,i=parseInt(o,10);i?a.find(".num").html(i>99?"99+":i).show():a.find(".num").hide()}else a.find(".num").hide()})}};a(),window.ESIMOGUPROFILE&&o(MOGUPROFILE),i();var u=(n.ui.getdoT(),{});u.Tpl={headerMsgTpl:[]},u.View={init:function(){this.addEvent()},addEvent:function(){var t=this;$("body").on("cinfodatarecieve",function(e,a){if(a){var o=a,i={};i.twitterNew=parseInt(o.cmessageNew),i.catmeNew=parseInt(o.a),i.cfavedNew=parseInt(o.b),i.cmsgNew=parseInt(o.c),i.fansNew=parseInt(o.d),i.csysmsgNew=parseInt(o.e),i.cactiveNew=parseInt(o.f),i.intelligent=parseInt(o.g),i.ccartNew=parseInt(o.h),i.chatNew=parseInt(o.i),i.ccouponShop=parseInt(o.q),i.ccouponPlatform=parseInt(o.j),$.each(t.renders,function(t,e){$.isFunction(e)&&e(i)})}}),$(document).on("hasUnread",function(t,e){var a=s.find(".mogutalk_btn");a.length&&(e>0?a.find(".num").show():a.find(".num").hide())})},renders:{renderNavCart:function(t){var e=s.find(".shopping_cart_v2");if(e.length)if(t.ccartNew>0){var a=t.ccartNew>99?"99+":t.ccartNew,o='<span class="cart_info">购物车<b class="num">'+a+"</b>件</span>";e.find(".cart_info_wrap").html(o).show()}else e.find(".cart_info_wrap").html('<span class="cart_info">购物车</span>')},renderSideBarCart:function(t){var e=l.find(".mgj-my-cart");e.length&&(t.ccartNew>0?e.find(".num").html(t.ccartNew>99?"99+":t.ccartNew).show():e.find(".num").hide())}}},u.View.init();var f=function(){this.highClassName="s1_on"};f.prototype={add2Collection:function(t){$.browser.msie&&6==$.browser.version&&$.isPlainObject(t)&&t.wrap.length&&t.target&&this._registerEvent(t)},_registerEvent:function(t){var e=this;t.wrap.on("mouseenter",t.target,function(t){$(this).addClass(e.highClassName).siblings().removeClass(e.highClassName)}),t.wrap.on("mouseleave",t.target,function(t){$(this).removeClass(e.highClassName)})}},(new f).add2Collection({wrap:$(".header_top"),target:".s1"})}),define("text",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("text!template/pc/www/default/assets/tpl/sidebar.tpl",[],function(){return'<!--空的右侧边栏-->\n<div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div>\n<!--方便定margin的空dediv-->\n<div id="mgj_rightbar_blank_div"></div>\n<!--用户头像-->\n<div class="sidebar-item mgj-my-avatar"></div>\n<!--购物车-->\n<div class="sidebar-item mgj-my-cart">\n    <a target="_blank" href="http://www.mogujie.com/trade/cart/mycart" rel="nofollow">\n        <i class="s-icon"></i>\n        <div class="s-txt">购物车</div>\n        <div class="num"></div>\n    </a>\n</div>\n<!--优惠券-->\n<div class="sidebar-item mgj-my-coupon">\n    <a target="_blank" rel="nofollow" href="http://www.mogujie.com/trade/promotion/user/shopcoupon">\n        <i class="s-icon"></i>\n        <div class="s-txt">优惠券</div>\n        <div class="num"></div>\n    </a>\n</div>\n<!--钱包-->\n<div class="sidebar-item mgj-my-wallet">\n    <a target="_blank" rel="nofollow" href="https://payuserp.mogujie.com/wallet/home">\n        <i class="s-icon"></i>\n        <div class="s-txt">钱包</div>\n    </a>\n</div>\n<!--足迹-->\n<div class="sidebar-item mgj-my-browserlog">\n    <a target="_blank" rel="nofollow" href="http://track.mogujie.com">\n        <i class="s-icon"></i>\n        <div class="s-txt">足迹</div>\n    </a>\n</div>\n<div class="sideBottom">\n    <!--回到顶部-->\n    <div class="sidebar-item mgj-back2top"><a rel="nofollow" href="javascript:;"><i class="s-icon"></i></a></div>\n</div>\n'}),define("template/pc/www/default/assets/js/nav/module/nav-sidebar",["text!template/pc/www/default/assets/tpl/sidebar.tpl","core/core"],function(t){var e=window.MoGu||{},a=1260,o=$(".mgj_rightbar");if(e&&e.ui&&e.ui.getTemplate){var i=e.ui.getTemplate(t);o.html(i)}var n={goTop:o.find(".mgj-back2top"),sidebar:o,sidebarCart:o.find(".mgj-my-cart"),init:function(){return"Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion&&navigator.appVersion.split(";").length>1&&"MSIE6.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")?void $(".mgj_rightbar").hide():(this.sidebar.show(),void(this.goTop.length&&(this.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),this.offsetEl.length&&(this.win=$(window),this.setSidebarPos(),this.addEvent()))))},addEvent:function(){var t=this;this.win.on("resize",function(e){t.setSidebarPos()});var o=['<a target="_blank" href="http://www.mogujie.com/member" rel="nofollow">','<div class="img">','<img width="20" height="20" src="{{=it.avatar}}_48x48.jpg" alt="">',"</div>","</a>"].join("");$("body").on("userdatarecieve",function(t,a){a.avatar&&$(".mgj_rightbar .mgj-my-avatar").html(e.ui.getTemplate(o,a))}),this.sidebarCart.off().on("mouseenter",function(){t.win.width()>a||t.showSidebar()}),this.sidebar.off().on("mouseleave",function(){t.win.width()>a||t.hideSidebar()}),this.win.on("scroll",function(e){$(this).scrollTop()?t.goTop.addClass("show"):t.goTop.removeClass("show")}),this.goTop.on("click",function(e){return t.win.scrollTop(0),!1})},setSidebarPos:function(){var t=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());a>t?this.hideSidebar():this.showSidebar()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0"}),this.goTop.stop().animate({left:"0"}),this.sidebar.removeClass("mini").stop().animate({right:"0"})},hideSidebar:function(){this.sidebarCart.stop().animate({left:"-30px"}),this.goTop.stop().animate({left:"-30px"}),this.sidebar.addClass("mini").stop().animate({right:"-30px"})}};n.init()}),define("template/pc/www/default/assets/js/nav/module/cart",[],function(){var t={},e=['<div class="shop_cart_info" style="display: none;">','<ul class="max_height_ie6">',"{{~ it.list:item:index}}","{{?index < it.topNum}}","<li>",'<a rel="nofollow" href="http://shop.mogujie.com/detail/{{=item.itemIdEsc}}" target="_blank" class="imgbox">',"{{?item.imgUrl}}",'<img src="{{=item.imgUrl}}_48x48.jpg" alt="{{=item.title}}" width="45">',"{{?}}","</a>",'<a rel="nofollow"  href="http://shop.mogujie.com/detail/{{=item.itemIdEsc}}" target="_blank" class="title">{{=item.title}}</a>',"{{?item.skuAttributes}}",'<span class="info">{{~ item.skuAttributes:sku:key }}{{=sku.key}}: {{=sku.value}}  {{~}}</span>',"{{?}}",'<span class="price">¥{{=(item.nowprice/100)}}</span>','<span data-stockid="{{=item.stockIdEsc}}" class="del">删除</span>',"</li>","{{?}}","{{~}}","</ul>",'<div class="subbox">',"{{?it.total-it.topNum>0}}",'<p class="sub_info">购物车里还有<b class="num">{{=it.total - it.topNum}}</b>件商品</p>',"{{?}}",'<div class="fr">','<a rel="nofollow" href="http://cart.mogujie.com/cart/mycart" target="_blank" class="goel">查看购物车</a>',"</div>","</div>","</div>"].join("");t.Model={goodsList:"",offlineCartCookies:"",offlineCartCookiesOld:"",goodsNum:0,getGoodsList:function(t){var e=this;if(e.goodsList)return void($.isFunction(t)&&t(this.goodsList));var a=[];if(MoGu.util.getCookie("trade_cart_mogujie")?e.offlineCartCookies=MoGu.util.getCookie("trade_cart_mogujie"):MoGu.util.getCookie("mogu_trade_cart")&&(e.offlineCartCookiesOld=MoGu.util.getCookie("mogu_trade_cart")),e.offlineCartCookies){var o=JSON.parse(e.offlineCartCookies);for(var i in o){var n={};n.stockId=i;for(var s in o[i])n[s]=o[i][s];a.push(n)}}if(e.offlineCartCookiesOld)for(var o=e.offlineCartCookiesOld.split(","),n={},s=0;s<o.length;s++)if(o[s].indexOf("#")>-1){var l=o[s].split("#");n.number=l[0],n.lastAddCartTime=l[1],a.push(n),n={}}else n.stockId=MoGu.fn.id2url(o[s]);var r={topNum:e.maxShowNum,marketType:"market_mogujie",offlineCartItems:JSON.stringify(a)};MoGu&&MoGu.fn&&MoGu.fn.refreshToken&&MoGu.fn.refreshToken(function(a,o){if(!a){var i=location.protocol||"http:";r.token=window.__token,$.ajax({url:i+"//cart.mogujie.com/api/cart/miniCartList",data:r,dataType:"jsonp",type:"get",success:function(a){1001==a.status.code?(e.goodsList=a.result.cartItems?a.result.cartItems:[],e.goodsNum=a.result.totalItemNum||0,$.isFunction(t)&&t(e.goodsList)):$.isFunction(t)&&t([])},fail:function(e){$.isFunction(t)&&t([])}})}})},delCookie:function(t,e){var a={};if(this.offlineCartCookies){var o=JSON.parse(this.offlineCartCookies);for(var i in o)i!=t&&(a[i]=o[i]);MoGu.util.setCookie("trade_cart_mogujie",JSON.stringify(a),{expires:15,path:"/",domain:".mogujie.com"})}},delGood:function(t,e){var a=this;$.post("/api/cart/deleteCart",{marketType:"market_mogujie",stockId:t},function(o){if(1001==o.status.code){var i=o.status.isLogin;i||a.delCookie(t),$.isFunction(e)&&e()}else alert(o.status.msg)},"json")}},t.View={wrap:$(".header_2015"),init:function(){this.wrap.length&&(this.extendInfo=null,this.loading=this.wrap.find(".shopping_cart_loading"),this.maxShowNum=5,this.addEvent())},addEvent:function(){var a=this;this.wrap.find(".cart_info_wrap").attr("href","http://cart.mogujie.com/cart/mycart"),$(".mgj_rightbar .mgj-my-cart a").attr("href","http://cart.mogujie.com/cart/mycart"),a.wrap.off("mouseenter").on("mouseenter",".shopping_cart_v2",function(o){var i=$(this);i.addClass("sc_on"),a.loading.show(),a.extendInfo&&a.extendInfo.length?(a.loading.hide(),a.extendInfo.show()):t.Model.getGoodsList(function(o){var n={list:o,topNum:a.maxShowNum,total:t.Model.goodsNum};if(o.length){var s=MoGu.ui.getTemplate(e,n);a.extendInfo=$(s)}else{var s='<div class="shop_cart_info"></div>';a.extendInfo=$(s),a.extendInfo.addClass("empty_cart").text("购物车里没有商品！")}i.append(a.extendInfo),a.loading.hide(),a.extendInfo.show()})}),a.wrap.off("mouseleave").on("mouseleave",".shopping_cart_v2",function(t){a.extendInfo&&a.extendInfo.hide()&&$(this).removeClass("sc_on")}),a.wrap.off("click").on("click",".shopping_cart_v2 .del",function(){var e=$(this),o=e.data("stockid"),i=(a.wrap.find(".num"),e.parent()),n=t.Model.goodsNum;e.hasClass("disabled")||(e.addClass("disabled"),t.Model.delGood(o,function(){n--,i.fadeOut("slow",function(){e.removeClass("disabled"),n?(i.remove(),t.Model.goodsNum=n):(a.extendInfo=$(".shop_cart_info"),a.extendInfo.addClass("empty_cart").text("购物车里没有商品！"))})}))})}},t.View.init()}),define("template/pc/www/default/assets/js/nav/module/back2top",[],function(){var t={wrap:$(".back2top_wrap"),init:function(){this.wrap.length&&(this.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body"),this.offsetEl.length&&(this.win=$(window),this.goTop=this.wrap.find(".go_top"),this.setPos(),this.wrap.show(),this.addEvent()))},addEvent:function(){var t=this;this.win.on("resize",function(e){t.setPos()}),this.win.on("scroll",function(e){$(this).scrollTop()?t.goTop.addClass("show"):t.goTop.removeClass("show")}),this.goTop.on("click",function(e){return t.win.scrollTop(0),!1})},setPos:function(){var t=this.offsetEl.offset(),e=this.offsetEl.outerWidth(),a=this.win.width(),o=this.wrap.width(),i=15,n=t.left+e+20;o+n+i>a?this.wrap.css({left:"auto",right:i}):this.wrap.css({left:n,right:"auto"})}};t.init()}),require(["template/pc/www/default/assets/js/nav/module/top-nav","template/pc/www/default/assets/js/nav/module/nav-sidebar","template/pc/www/default/assets/js/nav/module/cart","template/pc/www/default/assets/js/nav/module/back2top"],function(){});!function(t){function e(t,e){this.init(t,e)}function a(){function e(e){return t.trim(e).replace(/(<|>|'|"|window|alert|eval|$|jQuery)/gi,"")}h.on("keyup keydown",function(n){var o=t(this),i=t("#select_type");if(!i.length||"bao"===i.val()||"5"===i.val())switch(n.keyCode){case 40:if("keyup"==n.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex+1>g.tipLength-1?0:++g.chooseIndex;var r=v.changeListTab(g.chooseIndex);h.val(r);break;case 38:if("keyup"==n.type||!l.data("isshow"))break;g.chooseIndex=g.chooseIndex-1<0?g.tipLength-1:--g.chooseIndex;var r=v.changeListTab(g.chooseIndex);h.val(r);break;case 13:if("keyup"==n.type)break;n.preventDefault(),a.submitBefore(g.chooseType,g.chooseIndex),u.submit();break;case 37:break;case 39:break;default:clearTimeout(c),c=setTimeout(function(){var t=e(o.val());v.resetFactory(t)},500)}}).on("focus",function(){var a=t(this),n=t("#select_type");if(c&&clearTimeout(c),!n.length||"bao"===n.val()||"5"===n.val()){var o=e(a.val());clearTimeout(c),c=setTimeout(function(){v.resetFactory(o)},300)}}).on("blur",function(){t("body").bind("click",function(e){t(e.target).parents(".seatch_type_msearch").length||(l.empty().data("isshow",!0).hide(),t("body").unbind("click"))})}),l.on("mouseenter",".search_tip li",function(e){var a=t(this),n=a.index();g.chooseIndex=n,v.changeListTab(n)}).on("click",".search_tip li",function(e){var n=t(this).find(".title").text();t(e.target).hasClass("prop")&&(n+=" "+t(e.target).text()),a.submitBefore(g.chooseType,g.chooseIndex),h.val(n),u.submit()}),l.on("click",".hot_list li",function(){var e=t(this);return a.submitBefore(v.hotTypeName,e.index()),h.val(e.find("span").html()),u.submit(),!1}),l.on("click",".local_del",function(e){var a=t(this),n=a.parent();m.del(n.find(".title").attr("title"));var o=m.getTenItem();return v.updateLocalContent(a,o),g.chooseIndex=-1,g.tipLength=o.length,!1}).on("click",".local_title .del_all",function(){var e=t(this);return m.set(),v.destoryLocalContent(e),e.remove(),g.chooseIndex=-1,g.tipLength=0,!1}),n.on("click",".selectbox a",function(e){e.preventDefault(),v.changeType(t(this))}).on("mouseenter",".selectbox",function(){l.hide(),t(this).addClass("sele_hover")}).on("mouseleave",".selectbox",function(){t(this).removeClass("sele_hover")}),u.submit(function(){var n=t(this),o=e(h.val()),i=h.attr("def-v");if(""==o||o==i){if(""==o&&"shop"==t("#select_type").val())return!1;var r=h.data("def");h.val(r||"");var s='<input type="hidden" name="from" value="searchplacehold" id="TJ">';t("#top_nav_form").append(s),setTimeout(function(){t("#TJ").remove()},1e3)}else o==t.trim(h.val())&&"bao"==t("#select_type").val()&&m.addOne(o);if(u.find(".emptyvalue").remove(),n.data("index")>-1&&null!==n.data("type")){var c='<input type="hidden" class="emptyvalue" name="from" value="'+n.data("type")+"querytip"+n.data("index")+'">';u.append(c)}return v.destoryContent(),a.submitAfter(),!1}),v.showStickySearch()&&v.initStickySearch()}var n=t("#nav_search_form"),o="//mce.mogucdn.com/jsonp/multiget/3?pids=1088,1087",i="//rec.mogujie.com/jsonp/recommend/1?pid=29010&row=10";t&&t.fn&&!t.fn.serializeObject&&(t.fn.serializeObject=function(){var e={},a=this.serializeArray();return t.each(a,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e});var r=function(){var t=this;t.init()};r.prototype={constructor:r,init:function(){var t=this;t.requestLogo(),t.fixIe()},requestLogo:function(){var e="//mce.mogucdn.com/jsonp/multiget/3?pids=14360",a="//s16.mogucdn.com/p2/161115/upload_13e082af9kk5fk9b40i0h50a36b66_440x180.png";M.http.jsonp({url:e,timeout:2e4}).then(function(e){if(e&&e.success&&e.data&&e.data[14360]&&e.data[14360].list&&e.data[14360].list[0]){var n=e.data[14360].list[0];if(n.link&&""!=n.link&&(t(".header_mid .wrap .logo").attr("href",n.link),t(".sticky-search-container .wrap .logo").attr("href",n.link)),n.logoImg&&""!=n.logoImg){var o=new Image;o.src=n.logoImg,t(".header_mid .wrap .logo").css({"background-image":"none"}),t(".header_mid .wrap .logo").html('<img src="'+n.logoImg+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')}if(n.sLogoImg&&""!=n.sLogoImg&&t(".sticky-search-container .logo-wrap .logo img").attr("src",n.sLogoImg),n.codeImg&&""!=n.codeImg){var i=new Image;i.src=n.codeImg,t(".header_mid .wrap .mid_fr").html('<img src="'+n.codeImg+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')}else t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">');n.codeBg&&""!=n.codeBg&&t(".header_mid .wrap .mid_fr").css({"background-image":'url("'+n.codeBg+'")'})}else t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')})["catch"](function(){t(".header_mid .wrap .mid_fr").html('<img src="'+a+'" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857">')})},fixIe:function(){var e=M.ua.ie67||M.ua.ie8;e||t(".top_nav_search .top_search_hint").addClass("is-not-ie8-hack")},inputTextHide:function(e,a){e.focus(function(){var e=t(this);t.trim(e.val())==t.trim(e.attr("def-v"))&&e.val(""),a&&e.addClass(a)}),e.blur(function(){var e=t(this);""==t.trim(e.val())&&(e.val(e.attr("def-v")),a&&e.removeClass(a))})},getStore:function(t){if(!window.localStorage)return!1;var e=window.localStorage.getItem(t),a=JSON.parse(e);return a},setStore:function(t,e){if(!window.localStorage)return!1;var a=JSON.stringify(e);window.localStorage.setItem(t,a)}};var s=new r;if(n.length){var c,l=t(".top_search_hint"),h=n.find(".ts_txt"),u=t("#top_nav_form"),d=t("#select_type"),p=n.find(".selectbox"),f={nowHost:window.location.host,defultHost:"http://search.mogujie.com",listHost:"http://list.mogujie.com/s",template:function(t){return'<div class="search_tip_box fl">'+t+"</div>"},listItemTemp:function(t){var e='<div class="mr300 tip_wrap"> ';e+=t.titleName&&""!=t.titleName?' <h3 class="search_tip_title">'+t.titleName+"</h3> ":" ",e+=' <ul class="search_tip"> ';var a=t.items;if(a)for(var n,o=-1,i=a.length-1;i>o;){if(n=a[o+=1],e+=" ",10>o){e+=' <li> <a href="http://list.mogujie.com/s?q='+n.query+"&acm="+n.acm+'" class="title" title="'+n.query+'" >'+n.query+"</a> ";var r=n.tags;if(r)for(var s,c=-1,l=r.length-1;l>c;)s=r[c+=1],e+=" ",s.tag&&""!=s.tag&&(e+=' <a href="http://list.mogujie.com/s?q='+n.query+" "+s.tag+"&acm="+n.acm+'" class="prop" title="'+s.tag+'"><span>'+s.tag+"</sapn></a> "),e+=" ";e+=" </li> "}e+=" "}return e+=" </ul></div>"},localItemTemp:function(t){var e='<div class="mr300 tip_wrap"> <h3 class="search_tip_title local_title clearfix"> ';t.items.length&&(e+=' <span class="del_all">\u5220\u9664</span> '),e+='\u5386\u53f2\u8bb0\u5f55</h3> <ul class="search_tip"> ';var a=t.items;if(a)for(var n,o=-1,i=a.length-1;i>o;){if(n=a[o+=1],e+=" ",10>o){e+=' <li class="local_item"> <a href="javascript:;" class="title" title="'+n+'" >'+n+"</a> ";var r=n.props;if(r)for(var s,c=-1,l=r.length-1;l>c;)s=r[c+=1],e+=' <span class="prop">'+s+"</span> ";e+=' <span class="nums local_del">x</span> </li> '}e+=" "}return e+=" </ul></div>"},hotKeyTpl:function(t){var e='<div class="search_hot_wrap"> <h3 class="search_tip_title hot_title">\u70ed\u95e8\u5173\u952e\u8bcd</h3> <ul class="hot_list clearfix"> ',a=t.items;if(a)for(var n,o=-1,i=a.length-1;i>o;)n=a[o+=1],e+=" ",10>o&&(e+=" <li><span>"+n.title+"</span></li> "),e+=" ";return e+=" </ul></div>"},emptyTpl:function(){return'<div class="mr300 tip_wrap"><p class="tip_none">\u6682\u65e0\u76f8\u5173\u70ed\u95e8\u5173\u952e\u8bcd</p></div>'}},m={keyName:"_search_local_history",keyShowName:"_search_local_history_show",maxLength:20,showLength:10,isshow:function(){return!0},abtest:function(t){s.setStore(this.keyShowName,1)},get:function(){return s.getStore(this.keyName)||[]},getTenItem:function(){var t=this.get();return t.slice(0,this.showLength)},set:function(t){s.setStore(this.keyName,t||[])},addOne:function(e){if(e=t.trim(e),""!=e){var a=this.get(),n=t.inArray(e,a);-1==n?(a.unshift(e),a.length>this.maxLength&&a.pop()):(a.splice(n,1),a.unshift(e)),this.set(a)}},del:function(e){e=t.trim(e);var a=this.get(),n=t.inArray(e,a);n>-1&&(a.splice(n,1),this.set(a))}};GetQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?decodeURIComponent(a[2]):""},e.prototype.init=function(t,e){this.chooseIndex=-1,this.chooseType=t,this.tipLength=e||0};var g=new e("undefined"),v={ajaxRequest:null,hotKeyArr:[],isShopHost:function(){return!1},showStickySearch:function(){var e=(location.pathname,t("#body_wrap")),a=e.length>0?e.offset().top:150;return 150>a&&(a=150),"show"==t("#J_searchbar_flag").val()?(this.stickyTargetTop=a,!0):!1},initSearchForm:function(e){var a=u.find(".ts_txt"),n=GetQueryString("q");n&&a.attr("def-v","").val(n),t.ajax({url:o,dataType:"jsonp",type:"get",success:function(o){if(o&&"SUCCESS"==o.returnCode){var i=o.data[1088].list,r=o.data[1087].list,s=Math.floor(Math.random()*i.length+1)-1,c=i[s];n||a.attr("def-v",c.frontword).val(c.frontword),a.attr("data-def",c.query);var l="";t(r).each(function(t,e){var a=['<a rel="nofollow" class="ts_hotword" href="',"http://list.mogujie.com/s","?q="+e.query,"&from=hotword&acm="+e.acm,'">',e.frontword,"</a>"].join("");l+=a}),t(".ts_hotwords").html(l)}t.isFunction(e)&&e(o)},fail:function(){}})},resetFactory:function(t){this.isShopHost()?this.resetShopContent(t):m.isshow()?this.resetListContent(t):this.resetOldContent(t)},searchReaultLogger:function(t){if(t&&t.data&&t.data.data){for(var e=t.data.data||{},a=Math.min(e.length,10),n={acm:[],index:[],tags:[],query:[]},o=0;a>o;o++){var i=e[o];n.acm.push(i.acm),n.index.push(o),n.query.push(i.query);for(var r=i.tags||[],s=[],c=0;c<r.length;c++)s.push(r[c].tag);n.tags.push(s)}if(window.logger&&window.logger.log){var l=window.logger.log;try{l("000000120",n)}catch(h){}}}},resetListContent:function(a){function n(t){o(function(){r()})}function o(n){s.ajaxRequest&&s.ajaxRequest.abort();var o=m.getTenItem();return""==t.trim(a)?(c.push(s.renderLocalContent(o)),void(t.isFunction(n)&&n())):void(s.ajaxRequest=t.ajax({url:i,dataType:"jsonp",type:"get",data:{p_keyWord:a},success:function(a){if(a&&a.success){var o=a.data.data.length;0==o?c.push(s.renderEmptyContent()):(c.push(s.renderSearchContent(a.data.data)),g=new e(s.searchTypeName,o)),s.searchReaultLogger(a)}t.isFunction(n)&&n()},fail:function(){}}))}function r(){var t=f.template(c.join(""))||"";l.html(t),s.showContentBox()}var s=this,c=[];n(s.hotKeyArr)},resetShopContent:function(a){function n(n){r.ajaxRequest&&r.ajaxRequest.abort(),r.ajaxRequest=t.ajax({url:i,dataType:"jsonp",type:"get",data:{p_keyWord:a},success:function(a){if(a&&a.success){var o=a.data.data.length;0==o?s.push(r.renderEmptyContent()):(s.push(r.renderSearchContent(a.data.data,c)),g=new e(h,o)),r.searchReaultLogger(a)}t.isFunction(n)&&n()},fail:function(){}})}function o(){var t=f.template(s.join(""))||"";l.html(t),r.showContentBox()}var r=this,s=[],c="",h=""!=a?r.searchTypeName:r.hotTypeName;n(function(){o()})},resetOldContent:function(a){function n(n){r.ajaxRequest&&r.ajaxRequest.abort(),r.ajaxRequest=t.ajax({url:i,dataType:"jsonp",type:"get",data:{p_keyWord:a},success:function(a){if(a&&a.success){var o=a.data.data.length;0==o?s.push(r.renderEmptyContent()):(s.push(r.renderSearchContent(a.data.data,c)),g=new e(h,o)),r.searchReaultLogger(a)}t.isFunction(n)&&n()},fail:function(){}})}function o(){var t=f.template(s.join(""))||"";l.html(t),l.find(".tip_wrap").removeClass("mr300").addClass("mr300_fix"),r.showContentBox()}var r=this,s=[],c=""!=a?"\u641c\u7d22\u7ed3\u679c":"\u70ed\u95e8\u5173\u952e\u8bcd",h=""!=a?r.searchTypeName:r.hotTypeName;n(function(){o()})},searchTypeName:"",renderSearchContent:function(t,e){return f.listItemTemp({titleName:e||null,items:t})},localTypeName:"local",renderLocalContent:function(t){return f.localItemTemp({items:t})},updateLocalContent:function(t,e){var a=t.parent(),n=t.parents(".search_tip");if(a.length&&n.length)if(e.length<m.showLength)a.remove();else{var o=e[m.showLength-1];a.find(".title").attr("title",o).html(o),a.appendTo(n)}},destoryLocalContent:function(t){var e=t.parents(".tip_wrap").find(".search_tip");e.length&&e.empty()},hotTypeName:"default",renderHotContent:function(t){for(var e=[],a=0;a<t.length;a++)e.push({title:t[a]});return f.hotKeyTpl({items:e})},renderEmptyContent:function(){return f.emptyTpl()},destoryContent:function(){l.empty().hide()},getContentPosition:function(t,e){var a=e.offset(),n=t.data("fixleft"),o=t.data("fixtop");n&&(a.left+=parseInt(n)),o&&(a.top-=parseInt(o));var i=e.width()-34;t.css({left:a.left,top:a.top+e.height()+2,width:i}).addClass("hasposition")},showContentBox:function(){l.show().data("isshow",!0)},changeListTab:function(t){var e=l.find(".search_tip li"),a=e.eq(t);return e.removeClass("checked"),a.addClass("checked"),a.find(".title").text()},changeType:function(t){var e=t.parent(),a=e.attr("data-index"),n=t.text();if(d.val(a),p.find(".selected").text("\u641c"+n),e.siblings("li").removeClass("current"),e.addClass("current"),"shop"==a)h.val()==h.attr("def-v")&&h.val("");else if(""==h.val()){var o=h.attr("def-v");h.val(o)}4==a?"shop.mogujie.com"===f.nowHost?u.attr("action",f.defultHost+"/group/search/"):u.attr("action","/group/search/"):"shop.mogujie.com"===f.nowHost?u.attr("action",f.listHost):"shop"==a?u.attr("action","http://www.mogujie.com/book/search/shop"):u.attr("action",f.listHost),p.removeClass("sele_hover")},initStickySearch:function(){var e=t("#nav_search_form"),a=['<div id="J_sticky_container" class="sticky-search-container">','<div class="wrap clearfix">','<div class="logo-wrap clearfix">','<a rel="nofollow" href="http://www.mogujie.com" class="logo" title="\u8611\u83c7\u8857|\u6211\u7684\u4e70\u624b\u8857"><img src="http://s18.mogucdn.com/p2/160908/upload_37che13j0d67379a6776fi6kbk71k_224x70.png" alt="\u8611\u83c7\u8857\uff0c\u6211\u7684\u4e70\u624b\u8857"></a>',"</div>",'<div class="sticky-search-content"></div>',"</div>","</div>"].join("");t("body").append(a);var n=t(".sticky-search-container");t(window).off("scroll.sticky").on("scroll.sticky",function(){t(document).scrollTop()>v.stickyTargetTop?n.hasClass("lets-rock")||n.find(".sticky-search-content").append(e).end().addClass("lets-rock"):n.hasClass("lets-rock")&&(t(".normal-search-content").append(t("#nav_search_form")),n.find(".sticky-search-content").empty().end().removeClass("lets-rock"))})}};a.submitBefore=function(t,e){u.data({type:t,index:e})},a.submitAfter=function(){u.removeData("type index");var e=t.trim(u.find("input[name=t]").val());u.find("input[name=t]").remove(),g.chooseType="undefined",g.chooseIndex=-1;var a=t.map(u.serializeObject(),function(t,e){return[e,encodeURIComponent(t)].join("=")}).join("&"),n="";n="shop"==e?"http://www.mogujie.com/book/search/shop?"+a:"http://list.mogujie.com/s?"+a,logger&&logger.generatePtpParams&&(n=logger.generatePtpParams(n)),window.location.href=n};var y=function(){s.inputTextHide(h,"ts_high"),"www.mogujie.com"===f.nowHost||p.parents(".store_header").length||u.attr("action",f.listHost),u.find(".ts_btn").attr("disabled",!1),a()};v.initSearchForm(y)}}(jQuery);!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pc/common/im/index",[],e):"object"==typeof exports?exports["pc/common/im/index"]=e():t["pc/common/im/index"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1),i={},a=function(t,e){return $.ajax({url:"//webim.mogujie.com/jsonp/getshopowner/1",data:{shopId:t},type:"GET",dataType:"jsonp",jsonp:"callback",success:e})},r=function(t,e){o(t,e);var n=window.$?window.$("#J-imContainer"):document.getElementById("J-imContainer");n.show(),n.contents().focus()},d=function(t,e,n){var o=window.MoGu||{},d=window.MOGU||null;if(!o.data||!o.data.userData||!o.data.userData.uid)return d&&d.user_handsome_login_init?(d.user_handsome_login_init(),void d.user_handsome_login(!1,{callback:function(){location.reload()}})):void(location.href="http://portal.mogujie.com/user/login?refer="+encodeURIComponent(location.href));var c=/com\/detail\/(1[a-z0-9]+)/,u=decodeURIComponent(location.href).match(c);return u&&u[1]&&(n=u[1]),!t&&e?i[e]?(t=i[e],void r(t,n)):void a(e,function(o){o.success&&o.data&&(t=o.data.userId,i[e]=t,r(t,n))}):void r(t,n)};$(document).ready(function(){$(".mogutalk_widget_btn").each(function(){var t=$(this).data("style")||"default";t&&$(this).addClass("mogutalk_"+t)})}),$(document).on("click",".mogutalk_widget_btn, .mogutalk_btn",function(t){t.preventDefault();var e=t.currentTarget,n=$(e).data("toid")||$(e).data("uid")||"",o=$(e).data("bid")||"",i=$(e).data("tid")||$(e).data("gid")||"";o&&(o=o.replace("#23","")),d(n,o,i)}),window._openIm=d,t.exports=d},function(t,e,n){"use strict";n(2);var o=null,i={getPos:function(){var t=void 0;return o?o:window.localStorage&&(t=window.localStorage.getItem("IM_POSITION"))?JSON.parse(t):{x:$(window).width()-590,y:$(window).height()-440}},setPos:function(t,e){return o={x:t,y:e},window.localStorage&&window.localStorage.setItem("IM_POSITION",JSON.stringify(o)),!0}};t.exports=function(t,e){var n="http://webim.mogujie.com/pc";if(!$("#J-imContainer").length){var o="left:"+i.getPos().x+"px; top:"+i.getPos().y+"px",a='<div id="J-imContainer" class="im-frame-container" style="'+o+'">\n        <div id="J-closeImFrameBtn" class="im-frame-btn"></div>\n        <div id="J-dragImHandle" class="im-frame-drag"></div>\n        <iframe id="J-openImFrame" class="im-frame-box" frameborder="no" allowtransparency="true">\n        </iframe>\n      </div>';$("body").append(a),$("#J-closeImFrameBtn").on("click",function(){$("#J-imContainer").hide()}),$("#J-imContainer").drag({midX:40,midY:40,handler:"#J-dragImHandle",resize:function(t){i.setPos(t.x,t.y)},dragEnd:function(t){i.setPos(t.x,t.y)}})}$("#J-openImFrame").attr("src",n+"#userId="+t+"&goodsId="+e)}},function(t,e){"use strict";var n=!!("ontouchstart"in document.documentElement),o={start:"touchstart",move:"touchmove",end:"touchend"},i={start:"mousedown",move:"mousemove",end:"mouseup"},a=n?o:i;$.fn.drag=function(t){function e(){return h?(x.off(a.start,h),this):this}function o(){u=v.maxX>0?v.maxX:$(window).width(),s=v.maxY>0?v.maxY:$(window).height(),u=u-i("width")-v.midX,s=s-i("height")-v.midY,m=v.midX,l=v.midY}function i(t,e){return e?void p.css(t,e):parseFloat(p.css(t))}function r(){g.x=i("left"),g.y=i("top")}function d(t,e){u&&(m>t?t=m:t>=m&&t>u&&(t=u)),s&&(l>e?e=l:e>=l&&e>s&&(e=s)),"x"===v.axis?i("left",t+"px"):"y"===v.axis?i("top",e+"px"):(i("left",t+"px"),i("top",e+"px")),r()}function c(){function t(t){function e(e){var o,i,a,c;n?1===t.touches.length&&(o=e.touches[0].clientX-t.touches[0].clientX,i=e.touches[0].clientY-t.touches[0].clientY):(o=e.clientX-t.clientX,i=e.clientY-t.clientY),a=u+o,c=s+i,d(a,c),r(e)}function o(){"function"==typeof v.dragEnd&&v.dragEnd.call(this,g),c()}function r(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)}function c(){$(document).off(a.move,e),$(document).off(a.end,o),$(document).off("selectstart",r),x.off("dragstart",r)}var u=i("left")||0,s=i("top")||0;document.body.focus(),$(document).on("selectstart",r),x.on("dragstart",r),$(document).on(a.move,e),$(document).on(a.end,o)}e(),o(),"function"==typeof v.dragStart&&v.dragStart.call(this,g),x.on(a.start,t)}var u,s,m,l,f,p=$(this),h=null,g={},w={midX:0,midY:0,axis:"both",handler:null},v=$.extend({},w,t),x=v.handler;"string"==typeof x?x=p.find(x):x||(x=p),$(window).resize(function(){var t=this;f&&window.clearTimeout(f),f=setTimeout(function(){o(),d(g.x,g.y),"function"==typeof v.resize&&v.resize.call(t,g)},300)}),c()}}])}),"function"==typeof define&&define.amd&&require(["pc/common/im/index"]);function Target(e,t,n){var s="";if(arguments.length<2?s="target error - target and name are both required":"object"!=typeof e?s="target error - target itself must be window object":"string"!=typeof t&&(s="target error - target name must be string type"),s)throw new Error(s);this.target=e,this.name=t,this.prefix=n}function Messenger(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||prefix,this.initListen()}var prefix="[PROJECT_NAME]",supportPostMessage="postMessage"in window;supportPostMessage?Target.prototype.send=function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:Target.prototype.send=function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},Messenger.prototype.addTarget=function(e,t){var n=new Target(e,t,this.prefix);this.targets[t]=n},Messenger.prototype.initListen=function(){var e=this,t=function(t){"object"==typeof t&&t.data&&(t=t.data);for(var n=t.split("__Messenger__"),t=n[1],s=n[0].split("|"),r=s[0],i=s[1],a=0;a<e.listenFunc.length;a++)r+i===e.prefix+e.name&&e.listenFunc[a](t)};supportPostMessage?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[this.prefix+this.name]=t},Messenger.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,s=!1;n>t;t++)if(this.listenFunc[t]==e){s=!0;break}s||this.listenFunc.push(e)},Messenger.prototype.clear=function(){this.listenFunc=[]},Messenger.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)};var messenger;window.parent!==window.self?(messenger=new Messenger("im","ImFrame"),messenger.addTarget(window.parent,"Parent")):messenger=new Messenger("Parent","ImFrame");var newcinfo=function(e,t,n){if(n){var s=this;return this.url=window.location.protocol+"//webim.mogujie.com/jsonp/cinfo/1",this.IDLE=!0,this.trigger=function(e,s){n(t).trigger(e,s)},this.getData=function(e){if(s.IDLE){s.IDLE=!1;var t=0;n.ajax({url:s.url,data:e||{},dataType:"jsonp",timeout:9e3,success:function(e){e&&e.success&&e.data>0&&(t=e.data)},complete:function(){s.IDLE=!0,s.trigger("hasUnread",t)}})}},messenger.listen(function(e){try{switch(e=JSON.parse(e),e.code){case 1007:break;case 1008:s.getData()}}catch(t){}}),{refresh:function(e){var t=window.MoGu||{};t.data&&t.data.userData&&t.data.userData.uid&&s.getData(e)}}}}(window,document,jQuery);define("text!act_sidebar.tpl",[],function(){return'<div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div>{{? !it}}<div id="mgj_rightbar_blank_div"></div>{{?}}{{? it}}<style>/*4个部分背景为雪碧图*/.mgj_rightbar .mgj-my-actnavin .actnav_box .main_link,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop,.mgj_rightbar .mgj-my-actnavin .actnav_box .bot_bg { background-image: url({{= it.barHeadBg}}); background-repeat: no-repeat; }/*为样式添加hover效果背景图*/.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin:hover,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin.act_nav_tab_on{ background: url({{= it.pageTabLight}}) no-repeat; }.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my:hover,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my.act_nav_tab_on{ background: url({{= it.redTabLight}}) no-repeat; }.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop:hover,.mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop.act_nav_tab_on{ background: url({{= it.shopTabLight}}) no-repeat; }.mgj_rightbar .mgj-my-actnavin .actnav_box .act_nav_tab_on { width: 110px; }/*tab内容头部图片*/.mgj_actnav_box .actnavBox_header{ background: url({{= it.pageHead}}) no-repeat; }.mgj_actnav_box .redpay_pre_header { background: url({{= it.redHead}}) no-repeat; }.mgj_actnav_box .redpay_header { background: url({{= it.redFormalHead}}) no-repeat; }.mgj_actnav_box .shop_header { background: url({{= it.shopHead}}) no-repeat; }/*会场导航内容部分样式*/.mgj_actnav_box .actnavBox_body .body_main .body_main_item { background: url({{= it.oneM}}) no-repeat; }.mgj_actnav_box .actnavBox_body .body_centre .body_centre_item { background: url({{= it.twoM}}) no-repeat; }.mgj_actnav_box .actnavBox_body .body_main .body_main_item:hover { background: url({{= it.oneL}}) no-repeat; }.mgj_actnav_box .actnavBox_body .body_centre .body_centre_item:hover { background: url({{= it.twoL}}) no-repeat; }.mgj_actnav_box .actnavBox_body .body_centre .body_centre_title { background: url({{= it.twoTitle}}) no-repeat; }/*猜你喜欢样式*/.mgj_rightbar .act-like-goods-area .gap .title { background: url({{= it.gTitle}}) no-repeat; }.mgj_rightbar .act-like-goods-area span.price-tag { background: url({{= it.gp}}) no-repeat; }.mgj_rightbar .act-like-goods-area .redpay-use .hb-img { background: url({{= it.gr}}) no-repeat 0 2px; }</style><div class="img_pre_hide" style="height: 0;width: 0;overflow: hidden;"><img src="{{= it.pageTabLight}}" alt=""><img src="{{= it.redTabLight}}" alt=""><img src="{{= it.shopTabLight}}" alt=""></div><div class="mgj-my-actnavin"><div class="actnav_box"><a class="main_link J_act_main_link" target="_blank" href="javascript:;"></a><a class="actnav_mainin act_nav_tab" href="javascript:void(0)" rel="nofollow"></a><a class="actnav_my act_nav_tab" href="javascript:void(0)" rel="nofollow"></a><a class="actnav_shop act_nav_tab" href="javascript:void(0)" rel="nofollow"></a><div class="bot_bg"></div></div></div><div class="mgj_actnav_box"><div class="body_enter"><div class="actnavBox_header"><div class="ele_header_cont"><i></i></div></div><div class="actnavBox_body"><div id="enterArea"><div class="ele_body_loading"><img src="http://s6.mogucdn.com/pic/140813/kuw9n_ieyggojrmi4dknlbmiytambqgiyde_26x26.gif"><div class="ele_loading_text">服务器开小差了，请稍后查看</div></div></div></div></div><div class="body_redpay" ><div class="actnavBox_header redpay_pre_header show"><div class="ele_header_cont"><i></i></div></div><div class="actnavBox_header redpay_header hide"><div class="ele_header_cont"><i></i><div class="redpay_item"></div><div class="fullreturn_item"></div><div class="hover_line"></div></div></div><div class="actnavBox_body"><div class="redpay-user-box show"><div class="redpay-desc"><div class="go-rule" ><span class="show-rule-btn" id="showRuleBtn"><img src="http://s16.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png">使用规则</span></div><div id="redpayArea"></div></div><div class="redpay-rule-box" id="ruleArea"><div class="popver-trangle"><img src="http://s18.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"></div><div class="popver-body "><div class="popver-title">XXXXXXXXX</div><div class="popver-content" id="ruleContent"></div></div></div></div><div class="fullreturn-user-box hide"><div class="fullreturn-desc"><div class="go-full-return-rule" ><span class="show-full-return-rule-btn" id="showRuleFullReturnBtn"><img src="http://s16.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png">满返活动规则</span></div><div id="fullReturnArea"></div></div><div class="fullreturn-rule-box" id="ruleFullReturnArea"><div class="popver-trangle"><img src="http://s18.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"></div><div class="popver-body "><div class="popver-title">XXXXXXXXX</div><div class="popver-content" id="ruleFullReturnContent"></div></div></div></div><div id="act_goods_like_box"><div class="ele_body_loading"><img src="http://s6.mogucdn.com/pic/140813/kuw9n_ieyggojrmi4dknlbmiytambqgiyde_26x26.gif"><div class="ele_loading_text">服务器开小差了，请稍后查看</div></div></div></div></div><div class="body_shop"><div class="actnavBox_header shop_header"><div class="ele_header_cont"><i></i></div></div><div class="actnavBox_body"><div id="act-shop-coupon-box"><div class="ele_body_loading"><img src="http://s6.mogucdn.com/pic/140813/kuw9n_ieyggojrmi4dknlbmiytambqgiyde_26x26.gif"><div class="ele_loading_text">服务器开小差了，请稍后查看</div></div></div><div id="act-good-shop-box"><div class="ele_body_loading"><img src="http://s6.mogucdn.com/pic/140813/kuw9n_ieyggojrmi4dknlbmiytambqgiyde_26x26.gif"><div class="ele_loading_text">服务器开小差了，请稍后查看</div></div></div></div></div></div>{{?}}'}),define("text!act_sidebar_enter.tpl",[],function(){return'{{? it}}<div class="body_main clearfix">{{~ it.data["2426"].list:items}}<a class="body_main_header" href="{{=items.link}}" target="_blank"><img src="{{=items.image}}"></a>{{~ }}{{~ it.data["2421"].list:items}}<a class="body_main_item yahei fl" href="{{=items.link}}" target="_blank">{{=items.title}}</a>{{~ }}</div><div class="body_centre clearfix"><div class="body_centre_title"></div>{{~ it.data["2427"].list:items}}<a class="body_centre_item yahei fl" href="{{=items.link}}" target="_blank">{{=items.title}}</a>{{~ }}</div>{{? }}'}),define("text!act_sidebar_fullReturn.tpl",[],function(){return'{{? it}}{{? !it.isLogin}}<img class="main-img" src="http://s17.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"><div class="sidebar_tip gray666">你还没有登录</div><a href="javascript:void(0);" class="fullreturn-btn" id="goLogin">立即登录</a>{{?? !it.hasFullReturn}}<img class="main-img" src="http://s16.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"><div class="sidebar_tip gray666">您的满返余额为零，<br/>单笔实付满百即返！</div><a href="{{=it.mainUrl}}" class="fullreturn-btn" target="_blank">去购物</a>{{?? }}<div class="sidebar_tip gray999">金额总计（元）</div><div class="fullreturn-num">{{=it.price}}</div><div class="sidebar_tip gray666">(可在收银台抵扣付款金额)</div><a href="{{=it.link}}" class="fullreturn-btn" style="background-image:none;" target="_blank">查看明细</a>{{? }}{{? }}'}),define("text!act_sidebar_goodShop.tpl",[],function(){return'{{?it }}{{? it.list}}<div class="act-good-shop-area"><div class="gap"><div class="title">好店推荐</div>{{~ it.list:item:index}}{{? index < 3}}<div class="good-shop-list" ><div class="good-shop-item clearfix"><div class="left-img"><a href="{{=item.shop_url}}" data-ext-acm="{{=item.acm}}" class="loading_bg_90 img-wrap"target="_blank"><img src="{{=item.list[0].image }}" alt=""></a></div><div class="right-info fl"><a href="{{=item.shop_url}}" data-ext-acm="{{=item.acm}}" target="_blank"><div class="name yahei">{{=item.shopName}}</div><div class="line">----------------------</div><div class="coupon-area"><div class="cutPrice"><b class="yahei">&yen;</b>{{=item.cutPrice || 0}}</div><div class="limitPrice yahei">满{{=item.limitPrice }}元使用</div></div><div><div class="btn go-shopping yahei">去逛店</div></div></a></div></div></div>{{?}}{{~}}</div></div>{{?}}{{? }}'}),define("text!act_sidebar_guessLike.tpl",[],function(){return'{{?it }}{{? it.list}}<div class="act-like-goods-area"><div class="gap"><div class="title"></div>{{~ it.list:item}}<div class="like-goods-list" data-iid="{{=item.item_id}}"><div class="like-goods-item clearfix"><div class="left-img"><a href="{{=item.item_url}}" data-ext-acm="{{=item.acm}}" class="loading_bg_90 img-wrap"target="_blank"><img src="{{=item.image}}" alt=""></a></div><div class="right-info fl"><a href="{{=item.item_url}}" data-ext-acm="{{=item.acm}}" target="_blank"><div class="name single-line yahei">{{=item.title}}</div><div class="price-area single-line"><span class="price-tag fl"></span><span class="price yahei fl">¥{{=item.discountPrice||item.price}}</span><span class="old-price yahei fl">¥{{=item.price}}</span></div><div class="redpay-use single-line clearfix"><span class="hb-img fl"></span><span class="hb-price fl">{{? item.hbPrice}}红包最高再抵￥{{=item.hbPrice}}{{??}}用红包更划算{{?}}</span></div><div>{{? it.isFormal}}<div class="btn add-shopcar yahei">立即购买</div>{{?? }}<div class="btn add-shopcar yahei">加入购物车</div>{{?}}</div></a></div></div></div>{{~}}</div></div>{{?}}{{? }}'}),define("text!act_sidebar_redpay.tpl",[],function(){return'{{? it}}{{? !it.isLogin}}<img class="main-img" src="http://s17.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"><div class="sidebar_tip gray666">你还没有登录</div><a href="javascript:void(0);" class="redpay-btn" id="goLogin">立即登录</a>{{?? !it.hasRedpay}}<img class="main-img" src="http://s16.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"><div class="sidebar_tip gray666">你还没有红包哦<br/>快去主会场赢取红包吧</div><a href="{{=it.mainUrl}}" class="redpay-btn" target="_blank">去主会场</a>{{?? }}<div class="sidebar_tip gray999">红包总计（元）</div><div class="redpay-num">{{=it.price}}</div><div class="sidebar_tip gray666">（可与店铺券、平台券叠加）</div><a href="{{=it.link}}" class="redpay-btn" style="background-image:none;" target="_blank">查看红包明细</a>{{? }}{{? }}'}),define("text!act_sidebar_shopCoupon.tpl",[],function(){return'{{?it }}{{? it.list}}<div class="act-shop-coupon-area"><div class="gap"><div class="title">我的店铺券</div>{{~ it.list:item:index}}{{? index < 3}}<div class="shop-coupon-list"><div class="shop-coupon-item clearfix"><div class="left-img"><a href="{{=item.shopUrl}}" class="loading_bg_90 img-wrap"target="_blank"><img src="{{=item.recommendItemCover}}" alt=""></a></div><div class="right-info fl"><a href="{{=item.shopUrl}}" target="_blank"><div class="name yahei">{{=item.shopName}}</div><div class="line">----------------------</div><div class="coupon-area"><div class="cutPrice" ><b class="yahei">&yen;</b>{{=item.cutPrice || 0}}</div><div class="limitPrice yahei">满{{=item.limitPrice }}元使用</div></div><div><div class="btn go-shopping yahei">去逛店</div></div></a></div></div></div>{{?}}{{~}}<a href="{{=it.link}}" class="check-more yahei" target="_blank">查看更多<span class="logo"></span></a></div></div>{{?}}{{? }}'}),define("text!act_topbar.tpl",[],function(){return'<div class="wrap"><div class="innerwrap clearfix">{{~it:item:index}}<a class="fl {{?index===0}}first reset{{??index===it.length-1}}last{{?}}" href="{{=item.link || "javascript:;"}}" target="_blank"></a>{{~}}</div></div>'}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),require(["text!act_sidebar.tpl","text!act_sidebar_enter.tpl","text!act_sidebar_guessLike.tpl","text!act_sidebar_redpay.tpl","text!act_sidebar_shopCoupon.tpl","text!act_sidebar_goodShop.tpl","text!act_sidebar_fullReturn.tpl","text!act_topbar.tpl"],function(e,a,i,t,n,o,d,s){function r(e){function a(e){if(k||S||MoGu.isTopSideNavOpen)c();else for(var a=0;a<x.length;a++){var i=x[a].topBarUrl,t=e.indexOf(i)>-1;if(t){c();break}}}function i(e){if(k||S||MoGu.isTopSideNavOpen)l();else for(var a=0;a<w.length;a++){var i=w[a].sideBarUrl,t=e.indexOf(i)>-1;if(t){l();break}}}var t=e.getTime()/1e3;$.ajax({url:T.maitUrl,type:"GET",dataType:"jsonp",jsonpCallback:"jQuery6583_6584",data:{pids:"6583,6584,21943,21944"}}).done(function(e){e.success&&"SUCCESS"==e.returnCode&&e.data[6583].list.length>0&&e.data[6584].list.length>0&&e.data[21943].list.length>0&&e.data[21944].list.length>0&&(f=e.data[6583].list[0],y=e.data[6584].list[0],x=e.data[21943].list,w=e.data[21944].list,_="false"==f.openFlag,_&&(t=parseInt(g._getQueryString("_act_set_time")||0)),t>f.actOpenTime&&t<f.actCloseTime&&(m=!0,t>f.actSellTime&&(h=!0),MoGu&&MoGu.ui&&MoGu.ui.getTemplate&&(a(j),i(j))))})}function l(){var s=MoGu.ui.getTemplate(e,y);$("#mgj_rightbar_blank_div").css("display","none"),v.prepend(s),function(e,a){function i(a,i,d,s){a[t](o+i,"wheel"==n?d:function(a){!a&&(a=e.event);var i={originalEvent:a,target:a.target||a.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==a.type?0:1,deltaX:0,deltaY:0,preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*a.wheelDelta,a.wheelDeltaX&&(i.deltaX=-1/40*a.wheelDeltaX)):i.deltaY=a.detail,d(i)},s||!1)}var t,n,o="";e.addEventListener?t="addEventListener":(t="attachEvent",o="on"),n="onwheel"in a.createElement("div")?"wheel":void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,a,t){i(e,n,a,t),"DOMMouseScroll"==n&&i(e,"MozMousePixelScroll",a,t)}}(window,document);var r={goTop:v.find(".mgj-back2top"),sidebar:v,sidebarCart:v.find(".mgj-my-cart"),eleBtn:$(".mgj_rightbar").find(".actnav_box"),eleBack:$(".mgj_actnav_box .ele_header_cont i"),eleBox:$(".mgj_actnav_box"),sidebarShow:!1,isLogin:!1,contentIds:"2603,2426,2421,2427",redContentAdd:!1,fullReturnAdd:!1,shopCouponAdd:!1,redGoodsId:"",campaignId:"",goodShopId:"",mainUrl:"",redpayDetail:"",fullreturnDetail:"",userInfo:{uuid:"",avatar:""},init:function(){var e=this;this.goTop.length&&(this.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),this.offsetEl.length&&(this.win=$(window),this.setSidebarPos(),e.redGoodsId=f.goodsLikeId,e.campaignId=f.redKey,e.redpayDetail=f.redpayDetail,e.fullreturnDetail=f.fullreturnDetail,e.goodShopId=f.goodShopId,this.userInfo.uuid=MoGu&&MoGu.util&&MoGu.util.getCookie("__mgjuuid"),this.getActContentMait(),MoGu&&MoGu.fn&&MoGu.fn.getUserData&&MoGu.fn.getUserData(function(a,i){i&&i.avatar&&(e.isLogin=!0,e.userInfo.avatar=i.avatar),e.addEvent()})))},getActContentMait:function(){var e=this;$.ajax({url:T.maitUrl,type:"GET",dataType:"jsonp",jsonpCallback:"jQueryActData",data:{pids:e.contentIds}}).done(function(i){if(i.success&&"SUCCESS"==i.returnCode){$("#enterArea").html(MoGu.ui.getTemplate(a,i));var t=i.data[2603].list[0];$("#ruleArea .popver-body").html('<div class="popver-title ">'+t.ruleTitle+'</div><div class="popver-content" id="ruleContent">'+t.ruleContext+"</div>"),$("#ruleFullReturnArea .popver-body").html('<div class="popver-title ">'+t.returnRuleTitle+'</div><div class="popver-content" id="ruleFullReturnContent">'+t.returnRuleContext+"</div>"),e.mainUrl=i.data[2426].list[0].link,$(".J_act_main_link").attr("href",e.mainUrl)}else $("#enterArea .ele_loading_text").show()}).fail(function(){$("#enterArea .ele_loading_text").show()})},getRedContent:function(){function e(){if(o.redContentAdd)return!1;o.redContentAdd=!0;var e={isLogin:o.isLogin,mainUrl:o.mainUrl,hasRedpay:!1,price:0,link:""};o.isLogin?$.ajax({url:T.redpayUrl,type:"GET",data:{campaignId:o.campaignId},dataType:"jsonp"}).done(function(a){if("SUCCESS"==a.returnCode){var i=a.data.num;+i?(e.hasRedpay=!0,e.price=(i/100).toFixed(2),e.link=o.redpayDetail):(e.hasRedpay=!1,e.price=0)}else 1004!=a.returnCode&&4004!=a.returnCode||(e.hasRedpay=!1);$("#redpayArea").html(MoGu.ui.getTemplate(t,e))}):$("#redpayArea").html(MoGu.ui.getTemplate(t,e))}function a(){if(o.fullReturnAdd)return!1;o.fullReturnAdd=!0;var e={price:0,isLogin:!1,hasFullReturn:!1,mainUrl:o.mainUrl,link:o.fullreturnDetail};$.ajax({url:T.fullReturnUrl,type:"GET",dataType:"jsonp"}).done(function(a){if("SUCCESS"==a.returnCode){var i=a.data.totalAmout;i>0?(e.isLogin=!0,e.hasFullReturn=!0,e.price=(i/100).toFixed(2)):(e.isLogin=!0,e.hasFullReturn=!1)}else 16e4==a.returnCode?(e.isLogin=!0,e.hasFullReturn=!1):"1002"==a.returnCode&&(e.isLogin=!1,e.hasFullReturn=!1);$("#fullReturnArea").html(MoGu.ui.getTemplate(d,e))})}function n(){var e={pid:o.redGoodsId,pageSize:60,plat:"pc",uuid:o.userInfo.uuid};o.isLogin&&o.userInfo.uid&&(e.uidE=o.userInfo.uid),$.ajax({url:T.guessLikeUrl,type:"GET",dataType:"jsonp",data:e}).done(function(e){if(e.success&&"SUCCESS"==e.returnCode&&e.data.list.length>0){for(var a=e.data.list,t=[],n=[],o=[],d={isFormal:h,list:a},s=0;s<a.length;s++){var r=a[s].image;a[s].price=Math.ceil(a[s].price),r.indexOf(".jpg")>0&&r.indexOf(".jpg_")<0&&(a[s].image+="_160x999.jpg")}$("#act_goods_like_box").html(MoGu.ui.getTemplate(i,d));for(var s=0;s<a.length;s++)t.push(a[s].item_id),n.push(s),o.push(a[s].acm);g._pushLog({eventid:70500,iids:t,indexs:n,acms:o},70500)}else $("#act_goods_like_box .ele_loading_text").show()}).fail(function(){$("#act_goods_like_box .ele_loading_text").show()})}var o=this,s=$(".redpay_pre_header"),r=$(".redpay_header");e(),h&&b&&(s.removeClass("show").addClass("hide"),r.removeClass("hide").addClass("show"),a()),n()},getShopContent:function(){function e(){return i.shopCouponAdd?!1:(i.shopCouponAdd=!0,void $.ajax({url:T.shopCouponUrl,type:"GET",dataType:"jsonp"}).done(function(e){if(e&&1001==e.returnCode&&e.data&&e.data.couponList&&e.data.couponList.length>0){for(var a=e.data.couponList,i=[],t={isFormal:h,list:a,link:e.data.moreUrl},o=0;o<a.length;o++){var d=(a[o].shopUrl,a[o].recommendItemCover),s=a[o].cutPrice,r=a[o].limitPrice;d.indexOf(".jpg")>0&&d.indexOf(".jpg_")<0&&(a[o].image+="_160x999.jpg"),a[o].cutPrice=s/100,a[o].limitPrice=r/100}$("#act-shop-coupon-box").html(MoGu.ui.getTemplate(n,t));for(var o=0;o<a.length;o++)i.push(o);g._pushLog({eventid:70500,indexs:i},70500)}else $("#act-shop-coupon-box .ele_body_loading").hide()}).fail(function(){$("#act-shop-coupon-box .ele_body_loading").hide()}))}function a(){$.ajax({url:T.goodShopUrl,type:"GET",dataType:"jsonp",data:{pid:i.goodShopId,uuid:i.userInfo.uuid}}).done(function(e){if(e.success&&"SUCCESS"==e.returnCode&&e.data.list.length>0){for(var a=e.data,i=a.list,t=[],n=[],d=[],s={isFormal:h,list:i},r=0;r<i.length;r++){var l=i[r].list[0].image;i[r].cutPrice,i[r].limitPrice;l.indexOf(".jpg")>0&&l.indexOf(".jpg_")<0&&(i[r].list[0].image+="_160x999.jpg")}$("#act-good-shop-box").html(MoGu.ui.getTemplate(o,s));for(var r=0;r<i.length;r++)t.push(i[r].shop_id),n.push(r),d.push(i[r].acm);g._pushLog({eventid:70500,iids:t,indexs:n,acms:d},70500)}else $("#act-good-shop-box .ele_loading_text").show()}).fail(function(){$("#act-good-shop-box .ele_loading_text").show()})}var i=this;e(),a()},addEvent:function(){var e=this,a=($("#enterArea"),$("#redpayArea"),$("#fullReturnArea"),$("#act_goods_like_box"),$("#showRuleBtn")),i=$("#showRuleFullReturnBtn"),t=$("#ruleArea"),n=($("#ruleContent"),$("#ruleFullReturnArea"));$("#ruleFullReturnContent"),$(".redpay_header");if(this.win.on("resize",function(a){e.setSidebarPos()}),this.sidebarCart.off().on("mouseenter",function(){e.win.width()>p||e.sidebarShow||e.showSidebar()}),this.sidebar.off().on("mouseleave",function(){e.win.width()>p||e.sidebarShow||e.hideSidebar()}),this.eleBtn.on("click",".actnav_mainin",function(){$(this).hasClass("act_nav_tab_on")||e.changeSiderbarContent(1)}),this.eleBtn.on("click",".actnav_my",function(){$(this).hasClass("act_nav_tab_on")||(e.changeSiderbarContent(0),e.getRedContent())}),this.eleBtn.on("click",".actnav_shop",function(){$(this).hasClass("act_nav_tab_on")||(e.changeSiderbarContent(2),e.getShopContent())}),$("body").on("click",function(a){var i=$(a.target);i[0]!=v[0]&&0==v.find(i).length&&e.sidebarShow&&(e.hideSidePanel(),e.hideSidebar())}),e.eleBox.on("click",".ele_header_cont i",function(){e.sidebarShow&&(e.hideSidePanel(),e.hideSidebar())}),a.add(t).on("mouseenter",function(){t.addClass("show")}),a.add(t).on("mouseleave",function(){t.removeClass("show")}),i.add(n).on("mouseenter",function(){n.addClass("show")}),i.add(n).on("mouseleave",function(){n.removeClass("show")}),h){var o=$(".redpay_item"),d=$(".fullreturn_item"),s=$(".redpay-user-box"),r=$(".fullreturn-user-box"),l=$(".hover_line");o.on("click",function(){s.removeClass("hide").addClass("show"),r.removeClass("show").addClass("hide"),l.animate({left:"24px"})}),d.on("click",function(){s.removeClass("show").addClass("hide"),r.removeClass("hide").addClass("show"),l.animate({left:"136px"})})}if(addWheelListener(e.eleBox[0],function(a){var i=60;-1!=navigator.appVersion.indexOf("Mac")&&(i=10),0!=a.deltaY&&(e.eleBox[0].scrollTop+=a.deltaY>0?i:-i),a.preventDefault()}),!e.isLogin){var c=location.href;v.on("click","#goLogin",function(e){var a="http://portal.mogujie.com/user/login?refer="+c;e.preventDefault(),window.location=a})}},setSidebarPos:function(){var e=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());p>e?this.hideSidebar():this.showSidebar(),this.hideSidePanel()},showSidePanel:function(){this.sidebar.stop().animate({right:"270px"}),this.eleBox.stop().animate({right:"0px"}),this.sidebarShow=!0},hideSidePanel:function(){this.eleBox.stop().animate({right:"-270px"}),this.sidebarShow=!1,this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on")},changeSiderbarContent:function(e){this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on"),1==e?($(".body_enter").show().siblings().hide(),this.eleBtn.find(".actnav_mainin").addClass("act_nav_tab_on")):0==e?($(".body_redpay").show().siblings().hide(),this.eleBtn.find(".actnav_my").addClass("act_nav_tab_on")):($(".body_shop").show().siblings().hide(),this.eleBtn.find(".actnav_shop").addClass("act_nav_tab_on")),this.showSidePanel()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0px"}),this.goTop.stop().animate({left:"0px"}),this.sidebar.removeClass("mini").stop().animate({right:"0px"})},hideSidebar:function(){var e,a=-95,i=0;e=this.win.width()<p?a:i,this.sidebarCart.stop().animate({left:e}),this.goTop.stop().animate({left:e}),this.sidebar.addClass("mini").stop().animate({right:e})}};r.init()}function c(){var e=$('<div class="promotionTopBarContainer"></div>');$("#header").before(e),$.ajax({url:T.maitUrl,type:"GET",dataType:"jsonp",data:{pids:"22149,22450"}}).done(function(a){if("SUCCESS"==a.returnCode&&a.success){var i=a.data[22149].list,t=a.data[22450].list[0];if(!(a&&a.data&&i.length>0&&t))return;e.css("backgroundColor",t.bg_nav_color);var n=!!$("body").hasClass("media_screen_1200"),o=MoGu.ui.getTemplate(s,i);e.html(o);var d=e.find(".innerwrap"),r=new Image,l="";if(n?(l=t.image_big,r.src=l):(l=t.image_small,r.src=l),r.complete)return d.css("background-image","url("+r.src+")"),void e.animate({"margin-top":"0"});r.onload=function(){d.css("background-image","url("+r.src+")"),e.animate({"margin-top":"0"})}}})}window.MoGu=window.MoGu||{};var g={};g._getQueryString=function(e,a){var a=a||window.location.search;if(!e){var i=a.substring(1,a.length).split(/[&=]/),t={};return $.each(i,function(e,a){e%2===0&&(t[a]=i[e+1])}),t}var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=a.substr(1).match(n);return null!=o?unescape(o[2]):null},g._log=function(e){_&&window.console&&console.log&&console.log(e)},g.getServerTime=MoGu.fn&&MoGu.fn.getServerTime||function(e){$.ajax({url:"http://time.mogujie.com/time.php",type:"GET",dataType:"jsonp",jsonpCallback:"jquery_get_time_ver1"}).done(function(a){if(a&&a.result&&a.result.time){var i=new Date(1e3*a.result.time);e(i)}else e(new Date)}).fail(function(){e(new Date)})},g._pushLog=function(e,a){setTimeout(function(){if(window.logger&&logger.log)try{logger.log(a,e)}catch(i){_log(i)}else if(window.detePtp&&detePtp.logFromtSend){var t=window.detePtp._collectParams||{};e.ptp_cnt=t.ptp_cnt||"",e.ptp_url=t.ptp_url||"",e.ptp_ref=t.ptp_ref||"";try{detePtp.logFromtSend("e",a,e)}catch(i){_log(i)}}},1e3)};var u=(navigator.userAgent,$.browser.msie&&("6.0"==$.browser.version||"7.0"==$.browser.version)),p=1260,v=$(".mgj_rightbar"),m=($("#mar_enter_redpay"),!1),h=!1,_=0,b=0,f={},y={},x="",w="",j=location.href.split("?")[0],k=!1,C=$("#shopBaseUrlSec");C.length>0&&(k=location.host==C.val().split("/")[2]||"shop.mogujie.com"==location.host);var S="http://www.mogujie.com/"===j||"http://www.mogujie.com"===j||"http://www.mogujie.com/index"===j;MoGu.isTopSideNavOpen=!1;var T={maitUrl:"http://mce.mogucdn.com/jsonp/multiget/3",redpayUrl:"http://promotion.mogujie.com/jsonp/getRedPacket/1",fullReturnUrl:"http://hongbao.mogujie.com/jsonp/hongbaoAmount/1",guessLikeUrl:"http://mce.mogujie.com/jsonp/get/3",shopCouponUrl:"http://www.mogujie.com/mbractivity/myshopcoupon.jsonp",goodShopUrl:"http://mce.mogujie.com/jsonp/recommend/4"};u||g.getServerTime(r)});!function(t){function o(i){if(e[i])return e[i].exports;var l=e[i]={exports:{},id:i,loaded:!1};return t[i].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}var e={};return o.m=t,o.c=e,o.p="",o(0)}([function(t,o,e){e(1);var i="32260",l="32261",r="32262",s="32263",n="32159",a="32163",c="32170",_=[i,l,r,s,a,c].join(","),m=[i,l,r,s,a,c].join("_"),g=location.href.split("?")[0],h="http://www.mogujie.com/"===g||"http://www.mogujie.com"===g||"http://www.mogujie.com/index"===g;h&&(_=[_,n].join(","),m=[m,n].join("_"),$(".foot").css("background","#f5f5f5"));var f=function(){this.isInit=!1,this._elem=$(".J_siteFooter"),this.init=function(){var t=this;t.checkElementInViewport(t._elem[0]),$(window).scroll(function(){t.checkElementInViewport(t._elem[0])})},this.checkElementInViewport=function(t){var o=this;if(!o.isInit){var e=t.getBoundingClientRect(),i=e.bottom,l=e.top,r=window.innerHeight||document.documentElement.clientHeight;r>=l&&i>0&&(o.getRender(o._elem),o.isInit=!0)}},this.getRender=function(t){var o=this;M.http.jsonp({url:"http://mce.mogucdn.com/jsonp/multiget/3",data:{pids:_},jsonpCallback:"jsonp"+m}).then(function(e){if("SUCCESS"==e.returnCode&&e.success){var n=e.data[i].list,_=e.data[l].list,m=e.data[r].list,g=e.data[s].list,h=[],f=e.data[a].list,p=e.data[c].list,d=o.getHelperNewHtml(n,_,m,g),u=o.getOtherlinkHtml(h,e),j=o.getInfoHtml(f),v=o.getCopyrightHtml(p),w=[];w=['<div class="mgj_copyright">',d,u,j,v,"</div>"].join(""),t.html(w)}})["catch"](function(t){console.log(t)})},this.getHelperNewHtml=function(t,o,e,i){var l=[],r=this.getModHtml(t,!1),s=this.getModHtml(o,!1),n=this.getModHtml(e,!1),a=this.getModHtml(i,!0);return l=['<div class="mgj_footer_helper">',r,s,n,a,"</div>"].join("")},this.getModHtml=function(t,o){for(var e=[],i=[],l=[],r=0,s=t.length;s>r;r++){var n=t[r],a=n.link;"true"===n.isHeader?i.push('<h4 class="mgj_footer_helper_title color_666">'+n.title+"</h4>"):"false"===n.isHeader&&(o?l.push('<li class="mgj_footer_helper_item mgj_footer_helper_item_last"><div class="color_999">'+n.title+'</div><img class="mgj_footer_helper_quoer_code" src="'+n.image+'"></li>'):a?l.push('<li class="mgj_footer_helper_item"><a rel="nofollow" target="_blank" class="color_999" href="'+n.link+'">'+n.title+"</a></li>"):l.push('<li class="mgj_footer_helper_item"><div class="color_999" >'+n.title+"</div></li>"))}return i=i.join(""),l=l.join(""),e=['<div class="mgj_footer_helper_mod">','<div class="mgj_footer_helper_mod_container">',i,"<ul>",l,"</ul>","</div>","</div>"].join("")},this.getOtherlinkHtml=function(t,o){var e=[];if(h){t=o.data[n].list;for(var i=[],l=0,r=t.length;r>l;l++){var s=t[l],a=s.link;a?i.push('<a rel="nofollow" target="_blank" class="mgj_footer_a color_666" href="'+a+'">'+s.title+'</a><b class="mgj_footer_b color_666"> | </b>'):i.push('<div class="mgj_footer_a color_666">'+s.title+'</div><b class="mgj_footer_b color_666"> | </b>')}i=i.join(""),e=['<div class="mgj_footer_otherlink">','<p class="mgj_footer_otherlink_container">'+i+"</p>","</div>"].join("")}return e},this.getInfoHtml=function(t){for(var o=[],e=[],i=[],l=0,r=t.length;r>l;l++){var s=t[l],n=s.link;l==r-1?i.push('<p class="mgjhostname color_999">'+s.title+"</p>"):n?e.push('<li class="mgj_footer_mgjinfo_item"><a rel="nofollow" target="_blank" class="color_666" href="'+n+'">'+s.title+"</a></li>"):e.push('<li class="mgj_footer_mgjinfo_item"><div class="color_666" >'+s.title+"</div></li>")}return e=e.join(""),i=i.join(""),o=['<div class="mgj_footer_mgjinfo"><ul>',e,"</ul>"+i+"</div>"].join("")},this.getCopyrightHtml=function(t){for(var o=[],e=[],i=0,l=t.length;l>i;i++){var r=t[i],s=r.link;s?e.push('<span class="mgj_footer_copyright_span color_999">'+r.title+'</span><a rel="nofollow" target="_blank" class="mgj_footer_a color_999" href="'+r.link+'">'+r.subTitle+'</a><b class="mgj_footer_b color_999"> | </b>'):e.push('<span class="mgj_footer_copyright_span color_999">'+r.title+'</span><div class="mgj_footer_a color_999" >'+r.subTitle+'</div><b class="mgj_footer_b color_999"> | </b>')}return e=e.join(""),o=['<div class="mgj_footer_copyright"><p class="mgj_footer_copyright_container">',e,"</p></div>"].join("")}};t.exports=(new f).init()},function(t,o){}]);function makeCallBackDelay(e,t){return function(){var a=t.offset().top,o=0,n=arguments,r=!1;if(a>window.innerHeight&&0===$(window).scrollTop()){o=1500;var c=setTimeout(function(){r=!0,e.apply(t,n)},o);$(document).one("touchmove scroll",function(){c&&clearTimeout(c),r||(r=!0,e.apply(t,n))})}else e.apply(t,n)}}$.fn.listenToLazyData=function(e){var t=$(this).data("source-key");return MoGu&&MoGu.lazyInstance&&MoGu.lazyInstance._cache&&MoGu.lazyInstance._cache[t]?void makeCallBackDelay(e,$(this))({},!0,"",t,MoGu.lazyInstance._cache[t]||[],!1):void $(this).one("receive-data",makeCallBackDelay(e,$(this)))},define("base/core/datalazy",["base/MoGu"],function(e){function t(e){window.console&&console.warn&&console.warn.apply&&console.warn.apply&&console.log.apply(console,arguments)}function a(e){window.console&&console.error&&console.error.apply&&console.error.apply(console,arguments)}function o(e,t,a){var o=e.top,n=o+e.height;return a=a||0,!(n<t-a||o>t+d+a)}function n(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()}function r(e){var t={},a=e.split(";");return $(a).each(function(e,a){var o=a.split("="),n=o[0];n&&(t[n]=a.replace(n+"=",""))}),t}function c(t,a,o){var n=t.find("#template-tpl").html(),r=e.ui.getTemplate(n,a||[]),c=t.find(t.data("placeholder")||".entry-wrap");o?c.append(r):c.html(r)}function p(e){!this instanceof p&&a("please new function"),this.init(e)}"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(void 0!==o&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=a.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var r,c,p=[];for(r in n)e.call(n,r)&&p.push(r);if(t)for(c=0;c<o;c++)e.call(n,a[c])&&p.push(a[c]);return p}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,o;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(a=t),o=0;o<r;){var c;o in n&&(c=n[o],e.call(a,c,o,n)),o++}});var i={dynamic:{url:"http://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},merge:{url:"http://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},appolo:{url:"http://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mce:{url:"http://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceonly:{url:"http://mce.mogucdn.com/jsonp/get/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"jsonp"},mceats:{url:"http://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceonline:{url:"http://mce.mogujie.com/jsonp/multiget/3",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mcereconline:{url:"http://mce.mogujie.com/jsonp/multirecommend/4",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mcereconlyonline:{url:"http://mce.mogujie.com/jsonp/recommend/4",backupUrl:"http://mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"jsonp"}},s=20,u=80,l={loading:1,success:2,paging:3,error:4},d=$(window).height();return p.DEFAULT_CONFIG={timeout:8e3,deviation:d,SELECTORS:{COLD:".coldData",AJAX:".lazyData"}},p.prototype={_cache:{},_ajaxMap:{},_hasReRendered:!1,handler:null,destory:function(){$(window).off("scroll touchmove resize",this.handler)},init:function(e){var t=this;this.config=$.extend({},p.DEFAULT_CONFIG,e),this.prepareAjaxData(),this.loadAjaxData(),this.handler=function(){t.loadAjaxData.call(t)},$(window).on("scroll touchmove resize",this.handler)},prepareAjaxData:function(e){var a=this.config.SELECTORS,o=$(a.AJAX),n=this,c={},p={};o.length;this.$elems=o,o.each(function(a){var o=$(this),l=o.data("source-type"),d=o.data("floornum")||s,m=o.data("source-alone")||"",f=o.data("extra-param")||"",h=o.offset(),y=e?""+parseInt(100*Math.random()):"";if(!i[l])return void t("unknown data source type",l);c[l]=c[l]?c[l]:0,p[l]=p[l]?p[l]:1,c[l]+=d,c[l]>u&&(c[l]=0,p[l]++),f&&(f=r(f)),(m||f)&&(y=""+parseInt(100*Math.random())),l+=p[l],l+=y;var g=n._ajaxMap[l]=n._ajaxMap[l]||{source:$.extend(i[o.data("source-type")],{data:f||{}}),refreshType:y,list:[],offset:h};g.list.push({key:o.data("source-key"),dom:o,offset:h,param:null}),h.top<g.offset.top&&$.extend(g.offset,h),o.data("source-type","")})},updateAjaxMap:function(e){if(e="boolean"==typeof e&&e,this._hasReRendered&&(e=!0,this._hasReRendered=!1),e){var a=this._ajaxMap;Object.keys(a).forEach(function(e){var o=a[e],n=o.list;if(!o.status)for(var r=0;r<n.length;r++){var c=n[r],p=c.dom,i=p.offset(),s=p.data("source-key");s||t("source-key of the current dom should exist"),s!==c.key&&t("source-key[",s,"] of the current dom should match",c.key),c.offset=i}})}},loadAjaxData:function(){this.updateAjaxMap();var a=this._ajaxMap,r=$(window).scrollTop(),p=this._cache,i=this;for(var s in a)!function(s){var u=a[s];if(!u.status){for(var d=u.list,m=u.source,f=u.refreshType,h=!1,y=0;!h&&y<d.length;y++)h=h||o(d[y].offset,r,i.config.deviation)&&n(d[y].dom);if(h){for(var g=[],y=0;y<d.length;y++)g.push(d[y].key);g=g.join(",");var j=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a+f]=e[a].list);$.extend(p,t);for(var o=0;o<d.length;o++){var n=d[o],r=$(n.dom),s=n.key+f;p[s]&&(r.data("manual")||c(r,p[s]),r.trigger("receive-data",[!0,"",s,p[s]||[]]))}u.status=l.success,setTimeout(function(){i._hasReRendered=!0,$(window).trigger("scroll")},50)},v=function(e){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var t={};e.data&&e.data.list?t[g]=e.data:t=e.data,j(t)}else b(new Error(e&&e.returnCode||"error interface"))},b=function(e){var a=null;if(!e)return a=$.Deferred(),a.resolve(null),a;if(t("use backup url due to",e.toString()),!m.backupUrl)return void t("no backupUrl");var o=$.ajax;$._ajax&&"jsonp"===m.type&&(o=$._ajax);var n=$.extend({},m.data),r=(g||"").split(",");$(r).each(function(e,t){n[m.backupParam]=t,o.call($,{url:m.backupUrl,type:"GET",dataType:"jsonp",cache:!0,beforeSend:function(e,a){a.url=a.url.substring(0,a.url.indexOf("?")),a.url+="%3Fpid="+t+"&callback=jsonp"+t+"backup"},jsonpCallback:"jsonp"+t+"backup",data:n}).then(function(e){k.call(this,e,t)})})},k=function(e,t){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var a={};a[t]=e.data,j(a)}};u.status=l.loading;var w=$.ajax;$._ajax&&"jsonp"===m.type&&(w=$._ajax);var x={};$(".page_activity").hasClass("debug")&&(x=$.extend(x,{testing:1}));var O=$.extend(x,m.data);O[m.param]=g;var _="jsonp"+g.replace(/,/g,"_");_&&window[_]&&"function"==typeof window[_]&&(_+="new");var C=function(){w.call($,{url:m.url,type:"jsonp"!==m.type?m.type:"GET",dataType:"jsonp"!==m.type?"json":"jsonp",data:O,cache:!0,timeout:i.config.timeout,jsonpCallback:_}).done(v).fail(b)};s.indexOf("mcereconline")!==-1&&e&&e.ua&&e.ua["native"]&&hdp?hdp["do"]("mgj.device.signParams",{}).then(function(e){"string"==typeof e&&(e=JSON.parse(e)),O.did=e._did,C()})["catch"](function(e){C()}):C()}}}(s)}},p}),require(["base/MoGu","base/core/datalazy"],function(e,t){$(function(){var a=new t;return e.lazyInstance=a,e})});define("module/lazy-load",function(){window.MoGu=window.MoGu||{};var e=navigator.userAgent;MoGu.isUseWebp=!1;var t={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null};t.ua=e,t.android=e.match(/(Android);?[\s\/]+([\d.]+)?/),t.ios=e.match(/(iPad).*OS\s([\d_]+)/)||e.match(/(iPod)(.*OS\s([\d_]+))?/)||e.match(/(iPhone\sOS)\s([\d_]+)/),t.wp=e.match(/Windows Phone ([\d.]+)/),t.is_mobile=t.android||t.ios||t.wp,t.is_ie_old=e.indexOf("MSIE")>0,t.init=function(){var e=this;e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener&&window.addEventListener("resize",function(){e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,e.checkSupportWebp(),e.is_mobile&&e.getAppInfo()},t.setWebpFlag=function(e){MoGu.isUseWebp=!!e},t.checkSupportWebp=function(){var e=this,t=new Image;t.onload=function(){e.setWebpFlag(!0)},t.onerror=function(){e.ios&&"undefined"!=typeof localStorage?e.setWebpFlag("true"===localStorage.getItem("isWebpEnable")):e.setWebpFlag(!1)},t.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},t.getDefSuffix=function(e,t){var i=this,n="";if(i.android||i.ios||i.wp){var o=i.dprClentWidth;o<=375?n="375x9999.v1c7E":375<o&&o<=750?n="750x9999.v1c7E":750<o&&(n="1125x9999.v1c7E")}else n=i.defCode;return i.getCodeSuffix(e,n,t)},t.getWidthSuffix=function(e,t,i,n){var o=this;"undefined"==typeof n&&(n=!0);var d=o.defCode,r=n?o.dpr:1,a=parseInt(t)*r;return a&&a>0&&a<1950&&(a+=50,d=100*Math.ceil(a/100)+"x9999.v1c7E"),o.getCodeSuffix(e,d,i)},t.getGoodsRatioSuffix=function(e,t,i,n,o){var d=this;"undefined"==typeof o&&(o=!0);var r=d.defCode,a="",s=".v1cAC",l=o?d.dpr:1;switch(i){case"1:1":case"7:9":case"3:4":case"2:3":a=i;break;default:a=d.dprDefRatio,s=".v1c96"}var c=parseInt(t)*l;(!c||c<0||c>d.dprDefMaxWidth)&&(c=d.dprDefMaxWidth);for(var f=0;f<d.imgKeyArr.length;f++){var g=d.imgKeyArr[f];if(c<=g||g==d.dprDefMaxWidth){r=d.imgKeyMap[g][a]+s;break}}return d.getCodeSuffix(e,r,n)},t.getHalfSuffix=function(e,t){var i=this,n="";return i.dpr<2?(n="50000x50000.v1c7E",e=i.getCodeSuffix(e,n,t)):e=i.getDefSuffix(e,t),e},t.getCodeSuffix=function(e,t,i){var n=this,o=e;if(!e||!t||"no"==t||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(e.indexOf("mogucdn")===-1)return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;var d="",r=e.split(".");if("jpg"==r[r.length-1])d="jpg";else{if("png"!=r[r.length-1])return e;d="png"}var t="_"+t,a="."+n.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+d)==e.length-4&&(e=e+t+a+d),MoGu.isUseWebp&&i!==!1){if(e.indexOf("."+d+"_")>0){var s=e.split(".");s[s.length-1]==d&&(s[s.length-1]="webp",e=s.join("."))}}else if("png"==d)return o;return e},t.getAppInfo=function(){var e=this;"undefined"!=typeof hdp?(hdp["do"]("mgj.device.getInfo").then(function(t){t&&t.networkType&&4!=t.networkType&&5!=t.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(e){localStorage.setItem("isWebpEnable",e)})["catch"](function(){localStorage.setItem("isWebpEnable",!1)})):"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(t){t&&t.networkType&&4!=t.networkType&&5!=t.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},MoGu.ImgUrlTool||(t.init(),MoGu.ImgUrlTool=t);var i=Date.now||function(){return(new Date).getTime()},n=function(e){this.opts=$.extend({},this.defaults,e),this.init(),this.scrollIndTime=t.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={}};n.prototype={init:function(){var e=this,t=i();$(window).scroll(function(n){var o=i();o-t>e.scrollIndTime&&(t=o,e.checkImages())}),setTimeout(function(){e.fistCheck=!0,e.checkImages()},0)},getInActiveFlag:function(e,t){var i,n,o,d,r=t[0],a=r.getBoundingClientRect&&r.getBoundingClientRect();a?(i=a.top+e.scrollTop,n=a.bottom+e.scrollTop,o=a.left,d=a.right):(i=t.offset().top,n=i+t.height(),o=t.offset().left,d=o+t.width());var s=n>e.top&&i<e.bot,l=d>e.left&&o<e.right;return!(!s||!l)&&!("none"==t.css("display")||"hidden"==t.css("visibility")||0==t.css("opacity")||!t[0].offsetWidth)},checkModRow:function(e){var t=this,i=$(".mod_row");return i.each(function(i,n){var o=$(n);t.getInActiveFlag(e,o)?o.addClass("J_mod_row_show"):o.removeClass("J_mod_row_show")}),$(".J_mod_row_show")},checkImages:function(e){var i=this;if(i.fistCheck){var n=document.documentElement.scrollTop||document.body.scrollTop,o=i.opts.showDistance,d={};d.top=n-o,d.bot=n+(t.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+o,d.left=0,d.right=t.clientWidth,d.scrollTop=n;var r=$("body");e?r=e:window.MOGU_MF_DEVELOP_ENV&&$(".mod_row").length>0&&(r=i.checkModRow(d)),setTimeout(function(){for(var e=r.hasClass(i.opts.objsClassName)?r:r.find("."+i.opts.objsClassName),t=e.length,n=0;n<t;n++){var o=e.eq(n);if(o.attr("img-src")){var a=o.find(".J_dynamic_img"),s=o.hasClass("J_loading"),l=o.attr("need-remove")?o.attr("need-remove"):"no";if(!a.length||"yes"==l){var c=i.getInActiveFlag(d,o);c?a.length||s||i.loadingImage(o):"yes"==l&&(a.length||s)&&(o.removeClass("J_loading"),a.remove())}}}},0)}},preloadImages:function(e){var t=this;if(e&&e.length&&e.hasClass&&e.find)for(var i=e.hasClass(t.opts.objsClassName)?e:e.find("."+t.opts.objsClassName),n=i.length,o=0;o<n;o++){var d=i.eq(o);if(d.attr("img-src")){var r=d.find(".J_dynamic_img"),a=d.hasClass("J_loading");r.length||a||(d.attr("need-remove","no"),t.loadingImage(d))}}},loadingImage:function(e){var t=this;e.addClass("J_loading");var i=t.getAddCodeUrl(e);if(!(t.imgErrorClock[i]>=3)){var n=new Image;n.src=i,n.complete?t.insertImg(n,e):(n.onload=function(){t.insertImg(n,e)},n.onerror=function(){e.removeClass("J_loading"),t.imgErrorClock[i]?(t.imgErrorClock[i]++,t.imgErrorClock[i]>=3&&t.pushErrorLog(i,1)):t.imgErrorClock[i]=1})}},getAddCodeUrl:function(e){var i=e.attr("img-src"),n=e.attr("suffix-width")?e.attr("suffix-width"):e.width(),o=e.attr("suffix-ratio"),d=e.attr("suffix-code"),r=e.attr("suffix-model"),a="no"!=e.attr("use-webp");if((e.hasClass("full-width-wrap")||"no"==n)&&(n=9999),d)return t.getCodeSuffix(i,d,a);if(o){if("1:1"==o||"7:9"==o||"3:4"==o||"2:3"==o)return t.getGoodsRatioSuffix(i,n,o,a)}else if("orig_narrow"==r)return t.getHalfSuffix(i,a);return t.getWidthSuffix(i,n,a)},insertImg:function(e,t){t.hasClass("J_loading")&&(t.removeClass("J_loading"),t.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},pushErrorLog:function(e,t){if(window._trace&&_trace.sendMsg&&e&&t){var i=/^([\w\d]+):\/\/([\w\d\-_]+(?:\.[\w\d\-_]+)*)/,n=e.match(i);if(n&&n.length>2){var o=n[2];_trace.sendMsg(new Error(o),{url:e,type:t})}}},destroy:function(){},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},window.MoGu=window.MoGu||{},MoGu.DynamicImage=n;var o=MoGu.dynamicImage;return o||(o=new n({showDistance:$(window).height()}),MoGu.dynamicImage=o),o}),require(["module/lazy-load"],function(e){});!function(t){t.MWP=function(){"use strict";function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!==e?decodeURIComponent(e[2]):""}function r(t,e){if(void 0===e&&(e=!0),!t)return"";var n=e?encodeURIComponent:S;return Object.keys(t).map(function(e){var r=t[e];return e=n(e),Array.isArray(r)?r.map(function(t,r){return e+"["+r+"]="+n(t)}).join("&"):e+"="+n(r)}).join("&")}function o(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}function i(t,e,n){function r(){i.parentNode&&i.parentNode.removeChild(i);try{delete window[a]}catch(t){window[a]=void 0}}var i,a=e.jsonpCallback||"httpCb"+f();window[a]=function(t){r(),n(null,t)},t=c(t,Object.assign({},e.data,{callback:a,_:Date.now()})),i=document.createElement("script"),i.src=t,i.type="text/javascript",i.async=!0;var s=function(){r(),n(new Error(x))};P&&"onreadystatechange"in i?i.onreadystatechange=function(){"complete"===i.readyState&&(i.onreadystatechange=null,o(i));var t=i.readyState;try{i.children}catch(e){}"loaded"===t&&"loading"===i.readyState&&(i.onreadystatechange=null,s())}:(i.onerror=s,o(i))}function a(t,e,n){var o=e.data,i=new XMLHttpRequest;"GET"===e.method&&(t=c(t,o),o=null),i.open(e.method,t),i.withCredentials=!0,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(i.onreadystatechange=function(){},200===i.status)try{var t;t="json"===e.dataType?""===i.responseText?null:JSON.parse(i.responseText):i.responseText,n(null,t)}catch(r){n(r)}else n(new Error(x))};try{switch(i.setRequestHeader("Content-Type",e.contentType),e.contentType){case O.text:case O.form:i.send(o?r(o):null);break;case O.json:i.send(o?JSON.stringify(o):null);break;default:i.send(o)}}catch(a){n(a)}}function s(t,e,n){var o={method:e.method,headers:{"Content-Type":e.contentType},credentials:"include"};if("GET"===e.method)t=c(t,e.data);else switch(e.contentType){case O.text:case O.form:o.body=r(e.data);break;case O.json:o.body=JSON.stringify(e.data)}u(t)||(o.mode="cors"),j(t,o).then(function(t){switch(e.dataType){case"json":return t.json();case"text":default:return t.text()}}).then(function(t){n(null,t)})["catch"](function(){n(new Error(x))})}function u(t){try{var e=document.createElement("a");return e.href=t,e.href=e.href,e.protocol===R.protocol&&e.hostname===R.hostname&&e.port===R.port}catch(n){return!0}}function c(t,e){if(e){var n=r(e);n&&(t+=(~t.indexOf("?")?"&":"?")+n)}return t}function f(){return String(Date.now())+String((90*Math.random()|0)+10)}function h(){return++window._mwpJsonpID||(window._mwpJsonpID=1)}function d(t){if(t.ret===I.Success)return t.data;var e=new Error(t.msg||"\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5");throw e.code=t.ret,e}function p(){var t=window.location.search;return~t.indexOf("__pre")?D.PreRelease:~t.indexOf("__test")?D.Develop:void 0}function l(){if(window.MOGU_ENV)switch(window.MOGU_ENV){case"test":case"daily":return D.Develop;case"develop":case"local":case"pre":return D.PreRelease}else if(window.MOGU_DEV)return D.PreRelease}function y(t){return t&&"function"==typeof t.then}function v(){this._data={}}function m(t){this._MWP=t,this._callbacks={}}function g(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function w(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&g(t.slice(0,0))}function _(t){return t?"string"==typeof t?t:JSON.stringify(t):""}function T(t){this._params={},this.add(q,t.AppKey).add(G,String(Date.now())).add(U,t.TTID)}var b="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},E=e(function(t){!function(e){function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void d(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:s)(e.promise,t._value);var r;try{r=n(t._value)}catch(o){return void s(e.promise,o)}a(e.promise,r)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void f(r(n,e),t)}t._state=1,t._value=e,u(t)}catch(i){s(t,i)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&d(function(){t._handled||p(t._value)});for(var e=0,n=t._deferreds.length;n>e;e++)i(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}var h=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(t){h(t,1)},p=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new this.constructor(n);return i(this,new c(t,e,r)),r},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(i,t)},n)}e[i]=a,0===--o&&t(e)}catch(u){n(u)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,o=t.length;o>r;r++)t[r].then(e,n)})},o._setImmediateFn=function(t){d=t},o._setUnhandledRejectionFn=function(t){p=t},"undefined"!=typeof t&&t.exports?t.exports=o:e.Promise||(e.Promise=o)}(b)}),S=(Object.prototype.hasOwnProperty,function(t){return t}),j=window.fetch,R=window.location,O={text:"text/plain; charset=utf-8",form:"application/x-www-form-urlencoded; charset=UTF-8",json:"application/json; charset=UTF-8"},P=window.navigator.userAgent.indexOf("MSIE 8.0")>=0,x="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",D=({method:"GET",dataType:"json",contentType:O.form,forceXHR:!1,useHTTPS:!1},{Develop:"DEVELOP",PreRelease:"PRE_RELEASE",Release:"RELEASE"}),k={Develop:"devapi.mogujie.com",PreRelease:"newpreapi.mogujie.com",Release:"api.mogujie.com"},I={Success:"SUCCESS",NeedHttps:"FAIL_SYS_NEED_HTTPS",TokenNeedRenew:"FAIL_SYS_TOKEN_NEED_RENEW",SessionInvalid:"FAIL_BIZ_SESSION_INVALID"},N="_mwp_h5_token",A=Object.prototype.hasOwnProperty;v.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._data[t+"."+e]=n,this},v.prototype.toObject=function(){return this._data},m.Parameter=v,m.prototype.addParameter=function(t,e,n){return this._parameter||(this._parameter=new v),this._parameter.add(t,e,n),this},m.prototype.request=function(t,e,n,r){var o=this,i=void 0;return n instanceof v?i=n.toObject():(i=this._parameter?this._parameter.toObject():null,r||(r=n||{})),this._promise=this._MWP.request(t,e,i,r).then(function(t){return o.result=t,o._MWP.filterResult(t)}).then(function(t){var e=[];for(var n in t)A.call(t,n)&&o._callbacks[n]&&e.push(o._callbacks[n](t[n]));return e=e.filter(y),e.length>0?E.all(e).then(function(){return o.result}):o.result}),this},m.prototype.on=function(t,e){return this._callbacks[t]||(this._callbacks[t]=e),this},m.prototype.then=function(t,e){return this._promise=this._promise.then(t,e),this},m.prototype["catch"]=function(t){return this._promise=this._promise["catch"](t),this};var C=e(function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;4>i;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()}),H=function(t){return null!=t&&(g(t)||w(t)||!!t._isBuffer)},M={utf8:{stringToBytes:function(t){return M.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(M.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},B=M,L=e(function(t){!function(){var e=C,n=B.utf8,r=H,o=B.bin,i=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?o.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),u=8*t.length,c=1732584193,f=-271733879,h=-1732584194,d=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[u>>>5]|=128<<u%32,s[(u+64>>>9<<4)+14]=u;for(var l=i._ff,y=i._gg,v=i._hh,m=i._ii,p=0;p<s.length;p+=16){var g=c,w=f,_=h,T=d;c=l(c,f,h,d,s[p+0],7,-680876936),d=l(d,c,f,h,s[p+1],12,-389564586),h=l(h,d,c,f,s[p+2],17,606105819),f=l(f,h,d,c,s[p+3],22,-1044525330),c=l(c,f,h,d,s[p+4],7,-176418897),d=l(d,c,f,h,s[p+5],12,1200080426),h=l(h,d,c,f,s[p+6],17,-1473231341),f=l(f,h,d,c,s[p+7],22,-45705983),c=l(c,f,h,d,s[p+8],7,1770035416),d=l(d,c,f,h,s[p+9],12,-1958414417),h=l(h,d,c,f,s[p+10],17,-42063),f=l(f,h,d,c,s[p+11],22,-1990404162),c=l(c,f,h,d,s[p+12],7,1804603682),d=l(d,c,f,h,s[p+13],12,-40341101),h=l(h,d,c,f,s[p+14],17,-1502002290),f=l(f,h,d,c,s[p+15],22,1236535329),c=y(c,f,h,d,s[p+1],5,-165796510),d=y(d,c,f,h,s[p+6],9,-1069501632),h=y(h,d,c,f,s[p+11],14,643717713),f=y(f,h,d,c,s[p+0],20,-373897302),c=y(c,f,h,d,s[p+5],5,-701558691),d=y(d,c,f,h,s[p+10],9,38016083),h=y(h,d,c,f,s[p+15],14,-660478335),f=y(f,h,d,c,s[p+4],20,-405537848),c=y(c,f,h,d,s[p+9],5,568446438),d=y(d,c,f,h,s[p+14],9,-1019803690),h=y(h,d,c,f,s[p+3],14,-187363961),f=y(f,h,d,c,s[p+8],20,1163531501),c=y(c,f,h,d,s[p+13],5,-1444681467),d=y(d,c,f,h,s[p+2],9,-51403784),h=y(h,d,c,f,s[p+7],14,1735328473),f=y(f,h,d,c,s[p+12],20,-1926607734),c=v(c,f,h,d,s[p+5],4,-378558),d=v(d,c,f,h,s[p+8],11,-2022574463),h=v(h,d,c,f,s[p+11],16,1839030562),f=v(f,h,d,c,s[p+14],23,-35309556),c=v(c,f,h,d,s[p+1],4,-1530992060),d=v(d,c,f,h,s[p+4],11,1272893353),h=v(h,d,c,f,s[p+7],16,-155497632),f=v(f,h,d,c,s[p+10],23,-1094730640),c=v(c,f,h,d,s[p+13],4,681279174),d=v(d,c,f,h,s[p+0],11,-358537222),h=v(h,d,c,f,s[p+3],16,-722521979),f=v(f,h,d,c,s[p+6],23,76029189),c=v(c,f,h,d,s[p+9],4,-640364487),d=v(d,c,f,h,s[p+12],11,-421815835),h=v(h,d,c,f,s[p+15],16,530742520),f=v(f,h,d,c,s[p+2],23,-995338651),c=m(c,f,h,d,s[p+0],6,-198630844),d=m(d,c,f,h,s[p+7],10,1126891415),h=m(h,d,c,f,s[p+14],15,-1416354905),f=m(f,h,d,c,s[p+5],21,-57434055),c=m(c,f,h,d,s[p+12],6,1700485571),d=m(d,c,f,h,s[p+3],10,-1894986606),h=m(h,d,c,f,s[p+10],15,-1051523),f=m(f,h,d,c,s[p+1],21,-2054922799),c=m(c,f,h,d,s[p+8],6,1873313359),d=m(d,c,f,h,s[p+15],10,-30611744),h=m(h,d,c,f,s[p+6],15,-1560198380),f=m(f,h,d,c,s[p+13],21,1309151649),c=m(c,f,h,d,s[p+4],6,-145523070),d=m(d,c,f,h,s[p+11],10,-1120210379),h=m(h,d,c,f,s[p+2],15,718787259),f=m(f,h,d,c,s[p+9],21,-343485551),c=c+g>>>0,f=f+w>>>0,h=h+_>>>0,d=d+T>>>0}return e.endian([c,f,h,d])};i._ff=function(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},i._gg=function(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},i._hh=function(t,e,n,r,o,i,a){var s=t+(e^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},i._ii=function(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(i(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()}),U="mw-ttid",G="mw-t",F="data",q="mw-appkey",W="mw-sign",J=Object.prototype.hasOwnProperty;"function"!=typeof Date.now&&(Date.now=function(){return(new Date).valueOf()}),T.getSignedParams=function(t,e){var n=new T(t);return n.getSignedParams(e)},T.prototype.add=function(t,e){return e&&(this._params[t]=e),this},T.prototype.sign=function(t,e,n,r){var o=[],i=this._params;for(var a in i)J.call(i,a)&&o.push(a);return o.sort(),L(o.map(function(t){return i[t]}).concat([t,e,L(n),r]).join("&"))},T.prototype.getSignedParams=function(t){return this.add(W,this.sign(t.api,t.version,_(t.data),t.getToken())),this.add(F,_(t.data)),this._params};var V=function(t,e,n,r){this.api=t,this.version=e,this.data=n,this.options=Object.assign({},V.defaultOptions,r),this.origin=this.getOrigin(),this.retries=0};return V.Promise=E,V.AppKey="100028",V.TTID="NMMain@mgj_pc_1.0",V.Env=D,V.Hostname=k,V.Code=I,V.defaultOptions={useHTTPS:!1,env:V.Env.Release},V.request=function(t,e,n,r){return new V(t,e,n,r)._fetch()},V.getDSL=function(){return new m(this)},V.getDSLParameter=function(){return new m.Parameter},V.filterResult=d,V.setGlobalEnv=function(t){t&&(this.defaultOptions.env=t)},V.getGlobalEnv=function(){return this.defaultOptions.env},V.prototype={constructor:V,getToken:function(){return n(N)},getParams:function(){return T.getSignedParams(this.constructor,this)},shouldRetry:function(){return this.retries<5},_fetch:function(){var t=this;return new E(function(e,n){return t.shouldRetry()?(t.retries++,void t.fetch(e,n)):n(new Error("Have retried too much times"))}).then(function(e){return t.handleResponse(e)})},fetch:function(t,e){var n=[this.getURL(),this.getParams(),function(n,r){return n?e(n):void t(r)}];this.options.cors===!0?this.cors.apply(this,n):this.jsonp.apply(this,n)},jsonp:function(t,e,n){i(t,{data:e,jsonpCallback:"mwpCb"+h()},n)},cors:function(t,e,n){var r={method:this.options.method||"GET",data:e,dataType:"json",contentType:O.form};"function"==typeof window.fetch?s(t,r,n):window.XMLHttpRequest?a(t,r,n):this.jsonp(t,e,n)},getURL:function(){return this.origin+"/h5/"+this.api+"/"+this.version+"/"},getOrigin:function(){var t,e=this.options,n=e.useHTTPS?"https:":"http:";switch(e.env){case V.Env.Develop:t=V.Hostname.Develop;break;case V.Env.PreRelease:t=V.Hostname.PreRelease;break;default:t=V.Hostname.Release}return n+"//"+t},handleResponse:function(t){switch(t.ret){case V.Code.TokenNeedRenew:return this._fetch();case V.Code.NeedHttps:return this.options.useHTTPS=!0,this.origin=this.getOrigin(),this._fetch();default:return E.resolve(t)}}},V.setGlobalEnv(p()||l()),V}()}(this.M||this.MoGu||this);
window.MOGU=window.MOGU||{},function(t,n){var e={};e.Util={mask:function(){var n=t(".light_box_fullbg");n.length<=0&&(n=t(['<div class="light_box_fullbg"></div>'].join("")),t("body").append(n))},show:function(n,e){var l,i,o,a=t("#vp_wrap"),c=t(".light_box_fullbg").eq(0);a.length<=0&&(a=t(['<div class="vp_wrap" id="vp_wrap">','<h5 class="vp_t"></h5>','<a href="javascript:;" class="vp_cls">×</a>','<div class="v_pop_box"></div>',"</div>"].join("")),t("body").append(a),c.off("click").on("click",function(){clearTimeout(o),a.addClass("vp_shake"),o=setTimeout(function(){a.removeClass("vp_shake")},500)})),e.isShowCloser?a.find(".vp_cls").show():a.find(".vp_cls").hide(),a.find(".vp_t").html(e.title),i={alert:function(n){return l=t(".vp_alert"),l.length<=0?l=t(['<div class="vp_alert vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn.theme+' vp_ok">'+n.btn.text+"</a>","</div>"].join("")):l.find(".vp_btn").removeClass("vp_btn_red").removeClass("vp_btn_normal").addClass("vp_btn_"+n.btn.theme).html(n.btn.text),l.show().find(".vp_cnt").html(n.content),l},confirm:function(n){if(l=t(".vp_cfm"),l.length<=0)l=t(['<div class="vp_cfm vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn1.theme+' vp_ok">'+n.btn1.text+"</a>",'<a href="javascript:;" class="vp_btn vp_btn_'+n.btn2.theme+' vp_cancel">'+n.btn2.text+"</a>","</div>"].join(""));else{var e=l.find(".vp_btn");e.removeClass("vp_btn_red").removeClass("vp_btn_normal"),e.eq(0).addClass("vp_btn_"+n.btn1.theme).html(n.btn1.text),e.eq(1).addClass("vp_btn_"+n.btn2.theme).html(n.btn2.text)}return l.show().find(".vp_cnt").html(n.content),l}},a.find(".v_pop_box").append(i[n](e)),a.css({display:"block",opacity:0}).css({"margin-left":-a.width()/2-1,"margin-top":-a.height()/2-1,opacity:1}),c.show()},close:function(n,e){t(".light_box_fullbg").eq(0).hide(),t("#vp_wrap").find(".vp_inner").hide().end().hide(),void 0!==e&&"function"==typeof e&&e(n)}},t.alert=function(n,l,i){var o=t.extend(!0,{title:"提示",content:n,btn:{text:"确定",theme:"red",val:void 0},isShowCloser:!0,close_val:void 0},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("alert",o),a()}()},t.confirm=function(n,l,i){var o=t.extend(!0,{title:"提示",content:n,btn1:{text:"确定",theme:"red",val:!0},btn2:{text:"取消",theme:"normal",val:!1},isShowCloser:!0,close_val:!1},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn1.val,l)}).on("click",".vp_cancel",function(t){t.preventDefault(),e.Util.close(o.btn2.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("confirm",o),a()}()},n.MOGU.alert=t.alert,n.MOGU.confirm=t.confirm}(jQuery,window);